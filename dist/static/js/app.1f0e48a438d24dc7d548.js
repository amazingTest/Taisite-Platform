webpackJsonp([1],{"+J/z":function(e,t){},"/jFS":function(e,t){},"3Xst":function(e,t,a){e.exports=a.p+"static/img/logo.1a65c6f.jpg"},"7shL":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxNzkyIDE3OTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzcwYmYyYiIgZD0iTTE0MTIgNzM0cTAtMjgtMTgtNDZsLTkxLTkwcS0xOS0xOS00NS0xOXQtNDUgMTlsLTQwOCA0MDctMjI2LTIyNnEtMTktMTktNDUtMTl0LTQ1IDE5bC05MSA5MHEtMTggMTgtMTggNDYgMCAyNyAxOCA0NWwzNjIgMzYycTE5IDE5IDQ1IDE5IDI3IDAgNDYtMTlsNTQzLTU0M3ExOC0xOCAxOC00NXptMjUyIDE2MnEwIDIwOS0xMDMgMzg1LjV0LTI3OS41IDI3OS41LTM4NS41IDEwMy0zODUuNS0xMDMtMjc5LjUtMjc5LjUtMTAzLTM4NS41IDEwMy0zODUuNSAyNzkuNS0yNzkuNSAzODUuNS0xMDMgMzg1LjUgMTAzIDI3OS41IDI3OS41IDEwMyAzODUuNXoiLz4KPC9zdmc+Cg=="},"991W":function(e,t){},Cjkh:function(e,t){},DgYY:function(e,t){},E20L:function(e,t){},"FI+a":function(e,t){},"IT+J":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxNzkyIDE3OTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iI2RkNDY0NiIgZD0iTTEyNzcgMTEyMnEwLTI2LTE5LTQ1bC0xODEtMTgxIDE4MS0xODFxMTktMTkgMTktNDUgMC0yNy0xOS00NmwtOTAtOTBxLTE5LTE5LTQ2LTE5LTI2IDAtNDUgMTlsLTE4MSAxODEtMTgxLTE4MXEtMTktMTktNDUtMTktMjcgMC00NiAxOWwtOTAgOTBxLTE5IDE5LTE5IDQ2IDAgMjYgMTkgNDVsMTgxIDE4MS0xODEgMTgxcS0xOSAxOS0xOSA0NSAwIDI3IDE5IDQ2bDkwIDkwcTE5IDE5IDQ2IDE5IDI2IDAgNDUtMTlsMTgxLTE4MSAxODEgMTgxcTE5IDE5IDQ1IDE5IDI3IDAgNDYtMTlsOTAtOTBxMTktMTkgMTktNDZ6bTM4Ny0yMjZxMCAyMDktMTAzIDM4NS41dC0yNzkuNSAyNzkuNS0zODUuNSAxMDMtMzg1LjUtMTAzLTI3OS41LTI3OS41LTEwMy0zODUuNSAxMDMtMzg1LjUgMjc5LjUtMjc5LjUgMzg1LjUtMTAzIDM4NS41IDEwMyAyNzkuNSAyNzkuNSAxMDMgMzg1LjV6Ii8+Cjwvc3ZnPgo="},J8Bz:function(e,t){},KuYA:function(e,t){},LZbd:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={};a.d(s,"setApiCasePageInfo",function(){return We}),a.d(s,"setApiCaseSuitePageInfo",function(){return Je});var r={};a.d(r,"getApiCasePageInfo",function(){return Ye}),a.d(r,"getApiCaseSuitePageInfo",function(){return Ze});var o=a("lC5x"),i=a.n(o),n=a("J0Oq"),l=a.n(n),c=a("+RKF"),d=a("q7OS"),u=a.n(d),m=a("2+1C"),p=a.n(m),g=a("BClf"),f=a.n(g),h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},staticRenderFns:[]};var v=a("C7Lr")({name:"app",components:{}},h,!1,function(e){a("E20L")},null,null).exports,b=a("urex"),k=a("3cXf"),y=a.n(k),w=a("aA9S"),_=a.n(w),x=a("rVsN"),C=a.n(x),S=a("84iU"),F=a.n(S).a.create({baseURL:Object({NODE_ENV:"production",CASE_IMPORT_URI:"/api/importTestCases"}).BASE_API,withCredentials:!0,timeout:6e4});F.interceptors.response.use(function(e){return e.data},function(e){return e&&e.response?401===e.response.status?(Ue.replace({name:"login"}),{status:"failed",data:"请先登录~"}):403===e.response.status?{status:"failed",data:"当前用户没有操作权限哦~"}:500===e.response.status?{status:"failed",data:"服务器内部错误啦~请尝试刷新重试"}:501===e.response.status?{status:"failed",data:"服务器发生神秘事件~请尝试刷新重试"}:502===e.response.status?{status:"failed",data:"服务器网关坏掉啦~请尝试刷新重试"}:503===e.response.status?{status:"failed",data:"服务器不可用啦~请尝试刷新重试"}:504===e.response.status?{status:"failed",data:"服务器响应超时啦~请尝试刷新重试"}:C.a.reject(e.response.data):C.a.reject(e)});var I=F;function T(e,t){return I({url:"/api/project/projectList",headers:t,params:e,method:"GET"})}function L(e,t,a){return I({url:"/api/project/"+e+"/updateProject",method:"POST",headers:a,data:t})}function j(e){if(document.cookie.length>0){var t=document.cookie,a=t.indexOf(" "+e+"=")>0?t.indexOf(" "+e+"=")+1:0,s=t.indexOf(";"+e+"=")>0?t.indexOf(";"+e+"=")+1:0,r=0===t.indexOf(e+"=")?0:-1,o=a||s||r;if(-1!==o){o=o+e.length+1;var i=t.indexOf(";",o);return-1===i&&(i=t.length),t.substring(o,i)}}return""}function N(e,t,a){if(0!==a){var s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+s.toGMTString()}else document.cookie=e+"="+escape(t)}var D={data:function(){return{projectTestType:"interfaceTest",filters:{name:""},project:[],size:10,skip:0,sortBy:"createAt",order:"descending",pageNum:1,totalNum:0,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,options:[{label:"Web",value:"Web"},{label:"App",value:"App"}],editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],version:[{required:!0,message:"请输入版本号",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},editForm:{name:"",version:"",description:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],version:[{required:!0,message:"请输入版本号",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],description:[{required:!1,message:"请输入版本号",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},addForm:{name:"",version:"",description:""}}},methods:{getProjectList:function(){this.listLoading=!0;var e=this,t={size:e.size,skip:e.skip,sortBy:e.sortBy,order:e.order,projectTestType:e.projectTestType};""!==e.filters.name.trim()&&(t.name=e.filters.name.trim());T(t,{}).then(function(t){e.listLoading=!1;var a=t.status,s=t.data;"ok"===a?(e.totalNum=s.totalNum,e.project=s.rows):e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"项目获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e=a,s={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};L(t._id,{isDeleted:!0},s).then(function(t){var a=t.status,s=t.data;"ok"===a?e.$message({message:"删除成功",center:!0,type:"success"}):e.$message.error({message:s,center:!0}),e.getProjectList()})})},handleSizeChange:function(e){var t=this;t.size=e,t.listLoading=!0;T({size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectTestType:t.projectTestType},{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"项目获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleCurrentChange:function(e){var t=this;t.skip=(e-1)*t.size,t.listLoading=!0;T({size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectTestType:t.projectTestType},{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"项目获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},sortChange:function(e){var t=this;t.listLoading=!0,t.sortBy=e.prop,t.order=e.order;T({size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectTestType:t.projectTestType},{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"项目获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleChangeStatus:function(e,t){var a=this;this.listLoading=!0;var s={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};if(t.status){L(t._id,{status:!1},s).then(function(e){var t=e.status,s=e.data;"ok"===t?a.$message({message:"状态变更成功",center:!0,type:"success"}):a.$message.error({message:s,center:!0}),a.getProjectList()})}else{L(t._id,{status:!0},s).then(function(e){var t=e.status,s=e.data;"ok"===t?a.$message({message:"状态变更成功",center:!0,type:"success"}):a.$message.error({message:s,center:!0}),a.getProjectList()})}},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},this.editForm,t)},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){a&&e.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e={name:t.editForm.name,version:t.editForm.version,description:t.editForm.description,lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"},a={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};L(t.editForm._id,e,a).then(function(e){var a=e.status,s=e.data;t.editLoading=!1,"ok"===a?(t.$message({message:"修改成功",center:!0,type:"success"}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.getProjectList()):t.$message.error({message:s,center:!0})})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.addLoading=!0,function(e,t){return I({url:"/api/project/addProject",headers:t,method:"POST",data:e})}(y()({name:a.addForm.name,projectTestType:a.projectTestType,version:a.addForm.version,description:a.addForm.description,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"}),{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))}).then(function(e){var t=e.status,s=e.data;a.addLoading=!1,"ok"===t?(a.$message({message:"添加成功",center:!0,type:"success"}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getProjectList()):(a.$message.error({message:s,center:!0}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getProjectList())})})}})},reportRowStyle:function(e){var t=e.row;e.rowIndex;return!0!==t.status?"background-color: #DDDDDD":""},ReportTableRow:function(e){e.row,e.rowIndex;return"reportTableRow"},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id});this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0;var a=e,s={ids:t},r={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};delProject(r,s).then(function(e){var t=e.msg,s=e.code;e.data;"999999"===s?a.$message({message:"删除成功",center:!0,type:"success"}):a.$message.error({message:t,center:!0}),a.getProjectList()})})}},mounted:function(){this.getProjectList()}},R={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"项目名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getProjectList(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getProjectList}},[e._v(" 查询")])],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(" 新增项目")])],1)],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.project,"row-style":e.reportRowStyle,"row-class-name":e.ReportTableRow,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[s("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"项目名称","min-width":"18%",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-icon",{attrs:{name:"name"}}),e._v(" "),s("router-link",{staticStyle:{"text-decoration":"none",color:"#000000"},attrs:{to:{name:"用例列表",params:{project_id:t.row._id}}}},[e._v("\n          "+e._s(t.row.name)+"\n        ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"version",label:"项目版本","min-width":"18%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"description",label:"项目描述","min-width":"28%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"createAt",label:"创建时间","min-width":"22%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"creatorNickName",label:"创建者","min-width":"22%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdateTime",label:"最后更新时间","min-width":"22%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdatorNickName",label:"最后更新人","min-width":"22%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"13%",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{directives:[{name:"show",rawName:"v-show",value:t.row.status,expression:"scope.row.status"}],attrs:{src:a("7shL")}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.row.status,expression:"!scope.row.status"}],attrs:{src:a("IT+J")}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"50%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.handleChangeStatus(t.$index,t.row)}}},[e._v(e._s(!1===t.row.status?"启用":"禁用"))])]}}])})],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[s("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{staticStyle:{width:"75%",left:"12.5%"},attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[s("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[s("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"版本号",prop:"version"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.version,callback:function(t){e.$set(e.editForm,"version",t)},expression:"editForm.version"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:6},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description",t)},expression:"editForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"75%",left:"12.5%"},attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[s("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"版本号",prop:"version"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.version,callback:function(t){e.$set(e.addForm,"version","string"==typeof t?t.trim():t)},expression:"addForm.version"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:6},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var z=a("C7Lr")(D,R,!1,function(e){a("VoY2")},"data-v-b85819b0",null).exports;function A(e,t){return I({url:"/api/login",headers:t,method:"POST",data:e})}var P={data:function(){return{username:"",password:""}},methods:{submit:function(){var e=this;return l()(i.a.mark(function t(){var a,s,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={},r={username:(a=e).username,password:a.password},e.$refs.loginBtn.loading=!0,t.next=6,A(r,s).then(function(t){(e.$refs.loginBtn.loading=!1,"ok"===t.status)?(N("nickName",t.data.nickName,365),e.$router.push("/")):a.$message.error({message:t.data,center:!0})});case 6:t.sent;case 7:case"end":return t.stop()}},t,e)}))()}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"aitest-login"},[a("div",{staticClass:"aitest-login-main"},[e._m(0),e._v(" "),a("form",{staticClass:"login-form",attrs:{method:"post"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"login-input",attrs:{id:"login-username",type:"text",placeholder:"请输入帐号",required:"",autofocus:""},domProps:{value:e.username},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"login-input",attrs:{id:"login-password",type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),a("div",{staticStyle:{"margin-bottom":"50px",color:"red","text-align":"center"}}),e._v(" "),a("el-button",{ref:"loginBtn",staticClass:"login-btn",attrs:{id:"login-checkout",type:"primary"},on:{click:e.submit}},[e._v("登录")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[t("img",{staticStyle:{"margin-bottom":"8px"},attrs:{src:a("3Xst"),width:"100px",height:"90px"}}),this._v(" "),t("div",{staticStyle:{"font-size":"24px",color:"#e6a721"}},[this._v("泰斯特平台")])])}]};var E=a("C7Lr")(P,M,!1,function(e){a("p7sn")},"data-v-064936bf",null).exports,O={name:"Header",props:["projectName"],data:function(){return{sysName:"泰斯特平台",collapsed:!1,sysUserName:"未知用户"}},methods:{onSubmit:function(){},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){!function(e){var t=new Date;t.setTime(t.getTime()-1e4);var a=j(e);null!=a&&(document.cookie=e+"="+a+";expires="+t.toGMTString())}("nickName");e.$refs.logoutBtn.loading=!0,function(e,t){return I({url:"/api/logout",headers:t,method:"POST",data:e})}({},{}).then(function(t){var a=e;e.$refs.logoutBtn.loading=!1,"ok"===t.status?(a.$message.success({message:t.data,center:!0}),a.$router.push({name:"login"})):a.$message.error({message:t.data,center:!0})})}).catch(function(e){self.$message.error({message:"退出登录失败!",center:!0})})},collapse:function(){this.collapsed=!this.collapsed,this.$emit("collapse",this.collapsed)},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}},mounted:function(){var e=unescape(j("nickName").replace(/\\u/g,"%u"));this.sysUserName=e||"未知用户"}},H={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-col",{staticClass:"header",attrs:{span:24}},[s("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:8}},[s("router-link",{staticStyle:{"text-decoration":"none",color:"#FFFFFF"},attrs:{to:"/"}},[s("img",{attrs:{id:"logo",src:a("3Xst")}}),e._v("\n        "+e._s(e.collapsed?"":e.sysName)+"\n      ")])],1),e._v(" "),s("el-col",{attrs:{span:1}},[s("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[s("i",{staticClass:"fa fa-align-justify"})])]),e._v(" "),e.projectName?s("el-col",{staticClass:"project-info",attrs:{span:11}},[s("span",{staticClass:"project-info-inner"},[e._v(e._s(e.projectName))])]):e._e(),e._v(" "),s("el-col",{staticClass:"userinfo",attrs:{span:4}},[s("el-dropdown",{attrs:{trigger:"hover"}},[s("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v("\n\t\t\t\t\t\t"+e._s(e.sysUserName)+"\n\t\t\t\t\t\t"),s("img",{attrs:{id:"userphoto",src:a("OMM0")}})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{divided:""}},[s("a",{attrs:{target:"_blank",href:"https://shimo.im/docs/8TqxG3Ttjvj9yT8T"}},[e._v("\n              使用教程\n            ")])]),e._v(" "),s("el-dropdown-item",{ref:"logoutBtn",attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1)},staticRenderFns:[]};var B=a("C7Lr")(O,H,!1,function(e){a("qtSQ")},"data-v-777369ae",null).exports,V={components:{Header:B},data:function(){return{project_id:"",projectName:"",collapsed:!1}},methods:{handleselect:function(e,t){},onSubmit:function(){},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}},mounted:function(){var e,t=this;(e=this.$route.params.project_id,I({url:"/api/project/"+e,method:"GET"})).then(function(e){"ok"===e.status&&(t.projectName=e.data.name)})}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("header-view",{attrs:{projectName:e.projectName}}),e._v(" "),a("el-col",{attrs:{span:24}},[[a("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,mode:"horizontal","unique-opened":""},on:{select:e.handleselect}},[e._l(e.$router.options.routes,function(t){return t.projectHidden?e._e():[e._l(t.children,function(t,s){return[t.leaf?a("el-menu-item",{key:t.path,class:e.$route.path===t.path?"is-active":"",attrs:{index:t.path}},[t.child?e._e():[a("router-link",{staticStyle:{"text-decoration":"none",color:"#000000"},attrs:{to:{name:t.name,params:{id:e.project_id}}}},[a("div",[e._v("\n                    "+e._s(t.name)+"\n                  ")])])],e._v(" "),t.child?[a("router-link",{staticStyle:{"text-decoration":"none",color:"#000000"},attrs:{to:{name:t.children[0].name,params:{id:e.project_id}}}},[a("div",[e._v("\n                    "+e._s(t.name)+"\n                  ")])])]:e._e()],2):e._e(),e._v(" "),t.leaf?e._e():a("el-submenu",{attrs:{index:s+""}},[a("template",{slot:"title"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return a("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v("\n                "+e._s(t.name)+"\n              ")])})],2)]})]})],2)],e._v(" "),a("strong",{staticClass:"title",staticStyle:{"margin-bottom":"20px"}},[e._v(e._s(e.$route.name))])],2),e._v(" "),a("el-col",{attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)},staticRenderFns:[]};var U=a("C7Lr")(V,q,!1,function(e){a("x/sL")},"data-v-e52873f6",null).exports,G={components:{Header:B},data:function(){return{collapsed:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{handleselect:function(e,t){},collapse:function(e){this.collapsed=e},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("header-view",{on:{collapse:e.collapse}}),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[e.collapsed?e._e():a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,"unique-opened":"",router:""},on:{select:e.handleselect}},[e._l(e.$router.options.routes,function(t,s){return t.hidden?e._e():e._l(t.children,function(t){return t.hidden?e._e():a("el-menu-item",{key:t.path,staticStyle:{"font-size":"16px"},attrs:{index:t.path}},[a("i",{class:t.iconCls}),e._v(e._s(t.name)+"\n          ")])})})],2)],1),e._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[a("strong",{staticClass:"title",staticStyle:{"font-size":"15px"}},[e._v(e._s(e.$route.name))]),e._v(" "),a("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return a("el-breadcrumb-item",{key:t.path,staticStyle:{"font-size":"15px"}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1),e._v(" "),a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var J=a("C7Lr")(G,W,!1,function(e){a("Cjkh")},"data-v-2308a8c5",null).exports,Y={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("div",{staticStyle:{"font-size":"20px","text-align":"center"}},[e._v("\n   我，泰斯特，软件测试、机器学习爱好者。致力于将人工智能与自动化测试有效结合，让软件测试更具智能化。\n  ")]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("div",{staticStyle:{"font-size":"20px","text-align":"center"}},[e._v("\n    恭喜你成功部署了超好用的泰斯特平台~\n  ")]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("div",{staticStyle:{"font-size":"25px","text-align":"center"}},[s("a",{staticStyle:{color:"#ff9e1b"},attrs:{target:"_blank",href:"https://shimo.im/docs/8TqxG3Ttjvj9yT8T"}},[e._v("点我了解泰斯特平台如何使用")])]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("div",{staticStyle:{"font-size":"20px","text-align":"center"}},[e._v("\n    若您觉得「泰斯特平台」使用起来非常顺心，舒服，希望他变得更好用，那么也希望您能为开源项目的维护迭代尽一份绵薄之力~\n  ")]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a("zS84")}})]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a("sDtC")}})])])}]},Z=a("C7Lr")(null,Y,!1,null,null,null).exports,Q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",[t("el-row",{staticClass:"row-title",attrs:{span:24}},[t("el-col",{attrs:{span:24}},[t("div",{staticStyle:{"margin-left":"10px","margin-right":"20px"}},[t("router-view")],1)])],1)],1)},staticRenderFns:[]};var X=a("C7Lr")({data:function(){return{}},methods:{},mounted:function(){}},Q,!1,function(e){a("mdWD")},"data-v-2116cb36",null).exports;function K(e,t,a){return I({url:"/api/project/"+e+"/caseSuiteList",headers:a,params:t,method:"GET"})}function ee(e,t,a,s){return I({url:"/api/project/"+e+"/caseSuiteList/"+t+"/updateCaseSuite",method:"POST",headers:s,data:a})}function te(e,t,a){return I({url:"/api/project/"+e+"/hostList",headers:a,params:t,method:"GET"})}function ae(e,t,a,s){return I({url:"/api/project/"+e+"/hostList/"+t+"/updateHost",method:"POST",headers:s,data:a})}function se(e,t,a){return I({url:"/api/project/"+e+"/mailList",headers:a,params:t,method:"GET"})}function re(e,t,a,s){return I({url:"/api/project/"+e+"/mailList/"+t+"/updateMail",method:"POST",headers:s,data:a})}function oe(e,t,a){return I({url:"/api/project/"+e+"/testDataStorageList",headers:a,params:t,method:"GET"})}function ie(e,t,a,s){return I({url:"/api/project/"+e+"/testDataStorageList/"+t+"/updateStorage",method:"POST",headers:s,data:a})}function ne(e,t){return I({url:"/api/cronList",method:"GET",headers:t,params:e})}var le={data:function(){var e=this,t=function(t,a,s){""!==a&&null!==a&&void 0!==a?a>=60?s():(s(new Error("请输入大于或等于一分钟的触发间隔！")),e.$message.warning({message:"请输入大于或等于一分钟的触发间隔！",center:!0})):s()};return{Case:[],alarmMailList:[],TriggerTypes:[{name:"触发间隔",value:"interval"},{name:"具体日期",value:"date"}],size:10,skip:0,sortBy:"createAt",order:"descending",pageNum:1,totalNum:0,TestDataStorage:[],sels:[],delLoading:!1,disDel:!0,TestStatus:!1,listLoading:!1,statusChangeLoading:!1,crons:[],Host:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],testCaseSuiteIdList:[{required:!0,message:"请选择测试用例组",trigger:"blur"}],testDomain:[{required:!0,message:"请选择测试环境",trigger:"blur"}],globalVarsId:[{required:!1,message:"请选择测试数据",trigger:"blur"}],alarmMailList:[{required:!1,message:"请选择告警邮箱",trigger:"blur"}],isDingDingNotify:[{required:!1,message:"请选择是否使用钉钉提醒",trigger:"blur"}],dingdingAccessToken:[{required:!1,message:"请输入钉钉AccessToken",trigger:"blur"}],triggerType:[{required:!0,message:"请选择触发类型",trigger:"blur"}],interval:[{required:!1,message:"请输入触发间隔",trigger:"blur"},{validator:t,trigger:"blur"}],runDate:[{required:!1,message:"请输入触发时间",trigger:"blur"}],description:[{required:!1,message:"请输入版本号",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},editForm:{name:"",testCaseSuiteIdList:[],isExecuteForbiddenedCase:!1,testDomain:"",globalVarsId:"",alarmMailList:[],isDingDingNotify:!1,dingdingNotifyStrategy:{success:!1,fail:!0},dingdingAccessToken:"",isEnterpriseWechatNotify:!1,enterpriseWechatNotifyStrategy:{success:!1,fail:!0},enterpriseWechatAccessToken:"",triggerType:"",interval:0,runDate:"",description:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],testCaseSuiteIdList:[{required:!0,message:"请选择测试用例组",trigger:"blur"}],testDomain:[{required:!0,message:"请选择测试环境",trigger:"blur"}],globalVarsId:[{required:!1,message:"请选择测试数据",trigger:"blur"}],alarmMailList:[{required:!1,message:"请选择告警邮箱",trigger:"blur"}],isDingDingNotify:[{required:!1,message:"请选择是否使用钉钉提醒",trigger:"blur"}],dingdingAccessToken:[{required:!1,message:"请输入钉钉AccessToken",trigger:"blur"}],triggerType:[{required:!0,message:"请选择触发类型",trigger:"blur"}],interval:[{required:!1,message:"请输入触发间隔",trigger:"blur"},{validator:t,trigger:"blur"}],runDate:[{required:!1,message:"请输入触发时间",trigger:"blur"}],description:[{required:!1,message:"请输入版本号",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},addForm:{name:"",testCaseSuiteIdList:[],isExecuteForbiddenedCase:!1,testDomain:"",globalVarsId:"",alarmMailList:[],isDingDingNotify:!1,dingdingNotifyStrategy:{success:!1,fail:!0},dingdingAccessToken:"",isEnterpriseWechatNotify:!1,enterpriseWechatNotifyStrategy:{success:!1,fail:!0},enterpriseWechatAccessToken:"",triggerType:"",interval:"",runDate:"",description:""},filters:{name:""},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},methods:{getTestDataStorage:function(){var e=this,t={status:!0,projectId:e.$route.params.project_id};oe(e.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.TestDataStorage=s.rows:e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"暂时无法获取 TestDataStorage，请稍后刷新重试~",center:!0})})},getHost:function(){var e=this,t={status:!0,projectId:e.$route.params.project_id};te(e.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.Host=s.rows:e.$message.error({message:s,center:!0})})},getTask:function(){var e=this;e.listLoading=!0;var t={size:e.size,skip:e.skip,sortBy:e.sortBy,order:e.order,projectId:e.$route.params.project_id};""!==e.filters.name.trim()&&(t.name=e.filters.name.trim()),ne(t,{}).then(function(t){e.listLoading=!1;var a=t.status,s=t.data;"ok"===a?(e.totalNum=s.totalNum,e.crons=s.rows):e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"定时任务列表获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},getMail:function(){var e=this,t={status:!0,projectId:e.$route.params.project_id};e.listLoading=!0,se(e.$route.params.project_id,t,{}).then(function(t){e.listLoading=!1;var a=t.status,s=t.data;"ok"===a?e.alarmMailList=s.rows:e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"邮箱列表获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},handleSizeChange:function(e){var t=this;t.size=e,t.listLoading=!0;ne({size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id},{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.crons=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"定时任务列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleCurrentChange:function(e){var t=this;t.skip=(e-1)*t.size,t.listLoading=!0;ne({size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id},{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.crons=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"定时任务列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},sortChange:function(e){var t=this;t.listLoading=!0,t.sortBy=e.prop,t.order=e.order;ne({size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id},{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.crons=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"定时任务列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},addTask:function(){var e=this;this.$refs.addForm.validate(function(t){var a=e;t&&(a.addForm.runDate&&""!==a.addForm.runDate.toString().trim()||a.addForm.interval&&""!==a.addForm.interval.toString().trim()?"date"===a.addForm.triggerType&&a.addForm.runDate<Date.now()?a.$message.warning({message:"人生不能重来哦~请输入「此刻」以后的日期",center:!0}):e.$confirm("确认提交吗？","提示",{}).then(function(){var t=e;t.addLoading=!0;var a={name:t.addForm.name,testCaseSuiteIdList:t.addForm.testCaseSuiteIdList,testDomain:t.addForm.testDomain,globalVarsId:t.addForm.globalVarsId,isExecuteForbiddenedCase:t.addForm.isExecuteForbiddenedCase,triggerType:t.addForm.triggerType,description:t.addForm.description,alarmMailList:t.addForm.alarmMailList,isDingDingNotify:t.addForm.isDingDingNotify,dingdingAccessToken:t.addForm.dingdingAccessToken,dingdingNotifyStrategy:t.addForm.dingdingNotifyStrategy,isEnterpriseWechatNotify:t.addForm.isEnterpriseWechatNotify,enterpriseWechatAccessToken:t.addForm.enterpriseWechatAccessToken,enterpriseWechatNotifyStrategy:t.addForm.enterpriseWechatNotifyStrategy,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};t.addForm.runDate&&""!==t.addForm.runDate.toString().trim()&&(a.runDate=t.addForm.runDate),t.addForm.interval&&""!==t.addForm.interval.toString().trim()&&(a.interval=Number(t.addForm.interval));(function(e,t,a){return I({url:"/api/project/"+e+"/addCron",method:"POST",headers:a,data:t})})(t.$route.params.project_id,a,{}).then(function(e){t.addLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.addFormVisible=!1,t.$message.success({message:"添加成功",center:!0}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.getTask()):(t.addFormVisible=!1,t.$message.error({message:s,center:!0}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.getTask())})}):"interval"===a.addForm.triggerType?a.$message.warning({message:"请输入触发间隔",center:!0}):"date"===a.addForm.triggerType&&a.$message.warning({message:"请输入具体日期",center:!0}))})},editTask:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a=e;if(a.editForm.runDate&&""!==a.editForm.runDate.toString().trim()||a.editForm.interval&&""!==a.editForm.interval.toString().trim())if("date"===a.editForm.triggerType&&a.editForm.runDate<Date.now())a.$message.warning({message:"人生不能重来哦~请输入「此刻」以后的日期",center:!0});else{var s=e;e.$confirm("确认提交吗？","提示",{}).then(function(){s.editLoading=!0;var e={name:s.editForm.name,testCaseSuiteIdList:s.editForm.testCaseSuiteIdList,isExecuteForbiddenedCase:s.editForm.isExecuteForbiddenedCase,testDomain:s.editForm.testDomain,globalVarsId:s.editForm.globalVarsId,triggerType:s.editForm.triggerType,next_run_time:s.editForm.next_run_time,description:s.editForm.description,alarmMailList:s.editForm.alarmMailList,isDingDingNotify:s.editForm.isDingDingNotify||!1,dingdingAccessToken:s.editForm.dingdingAccessToken||"",dingdingNotifyStrategy:s.editForm.dingdingNotifyStrategy,isEnterpriseWechatNotify:s.editForm.isEnterpriseWechatNotify||!1,enterpriseWechatAccessToken:s.editForm.enterpriseWechatAccessToken||"",enterpriseWechatNotifyStrategy:s.editForm.enterpriseWechatNotifyStrategy,lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};s.editForm.runDate&&""!==s.editForm.runDate.toString().trim()&&(e.runDate=s.editForm.runDate),s.editForm.interval&&""!==s.editForm.interval.toString().trim()&&(e.interval=Number(s.editForm.interval));(function(e,t,a){return I({url:"/api/cronList/"+e+"/updateCron",method:"POST",headers:a,data:t})})(s.editForm._id,e,{}).then(function(e){s.editLoading=!1;var t=e.status,a=e.data;"ok"===t?(s.editFormVisible=!1,s.$message.success({message:"编辑成功",center:!0}),s.editFormVisible=!1,s.getTask()):(s.editFormVisible=!1,s.$message.error({message:a,center:!0}),s.editFormVisible=!1,s.getTask())})})}else"interval"===a.editForm.triggerType?a.$message.warning({message:"请输入触发间隔",center:!0}):"date"===a.editForm.triggerType&&a.$message.warning({message:"请输入具体日期",center:!0})}})},handleChangeStatus:function(e,t){var a=this;a.statusChangeLoading=!0;var s={},r={};"PAUSED"!==t.status?function(e,t,a){return I({url:"/api/cronList/"+e+"/pauseCron",method:"POST",headers:a,data:t})}(t._id,r,s).then(function(e){a.statusChangeLoading=!1;var t=e.status,s=e.data;"ok"===t?a.$message.success({message:s,center:!0}):a.$message.error({message:s,center:!0}),a.getTask()}).catch(function(e){a.$message.error({message:"定时任务状态变更失败，请稍后刷新重试哦~",center:!0}),a.statusChangeLoading=!1}):function(e,t,a){return I({url:"/api/cronList/"+e+"/resumeCron",method:"POST",headers:a,data:t})}(t._id,r,s).then(function(e){a.statusChangeLoading=!1;var t=e.status,s=e.data;"ok"===t?a.$message.success({message:s,center:!0}):a.$message.error({message:s,center:!0}),a.getTask()}).catch(function(e){a.$message.error({message:"定时任务状态变更失败，请稍后刷新重试哦~",center:!0}),a.statusChangeLoading=!1,a.getTask()})},getCaseSuites:function(){this.listLoading=!0;var e=this,t={status:!0,projectId:e.$route.params.project_id};K(e.$route.params.project_id,t,{}).then(function(t){e.listLoading=!1;var a=t.status,s=t.data;"ok"===a?e.Case=s.rows:e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"用例列表获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e=a;(function(e,t,a){return I({url:"/api/cronList/"+e+"/delCron",method:"POST",headers:a,data:t})})(t._id,{},{}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.$message.success({message:s,center:!0}):e.$message.error({message:s,center:!0}),e.getTask()})}).catch(function(){})},selsChange:function(e){e.length>0?(this.sels=e,this.update=!1):this.update=!0},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.listLoading=!0,$.ajax({type:"post",url:test+"/api/automation/del_case",async:!0,data:y()({project_id:Number(e.$route.params.project_id),ids:t}),headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))},timeout:5e3,success:function(e){a.listLoading=!1,"999999"===e.code?a.$message({message:"删除成功",center:!0,type:"success"}):a.$message.error({message:e.msg,center:!0}),a.getCaseSuiteList()}})}).catch(function(){})},stringToDate:function(e,t){t||(t="-");var a,s=e.toString().split(t),r=parseInt(s[0]);a=0==s[1].indexOf("0")?parseInt(s[1].substring(1)):parseInt(s[1]);var o=parseInt(s[2]);return new Date(r,a-1,o)},handleEdit:function(e,t){this.editFormVisible=!0,t.runDate&&t.runDate.constructor===String&&(t.runDate=this.stringToDate(t.runDate)),this.editForm=_()({},this.editForm,t)},handleAdd:function(){this.addFormVisible=!0},editFormTriggerTypeChange:function(e){"interval"===e?this.editForm.runDate="":"date"===e&&(this.editForm.interval="")},addFormTriggerTypeChange:function(e){"interval"===e?this.addForm.runDate="":"date"===e&&(this.addForm.interval="")},checkActiveCaseSuite:function(){this.Case.length<1&&this.$message.warning({message:"未找到「启用的测试用例组」哦, 请前往「自动化测试」进行设置",center:!0})},checkActiveMailList:function(){this.alarmMailList.length<1&&this.$message.warning({message:"未找到启用的「告警邮箱」哦, 请前往「邮箱配置」进行设置",center:!0})},checkActiveEnv:function(){this.Host.length<1&&this.$message.warning({message:"未找到启用的「测试环境」哦, 请前往「Host配置」进行设置",center:!0})},checkActiveStorage:function(){this.TestDataStorage.length<1&&this.$message.warning({message:"未找到「启用的数据字典」哦, 请前往「数据仓库」进行设置",center:!0})},reportRowStyle:function(e){var t=e.row;e.rowIndex;return"PAUSED"===t.status?"background-color: #DDDDDD":""},ReportTableRow:function(e){e.row,e.rowIndex;return"reportTableRow"}},mounted:function(){this.getCaseSuites(),this.getHost(),this.getTestDataStorage(),this.getMail(),this.getTask()}},ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticStyle:{margin:"35px"}},[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[s("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"接口测试"}}},[s("el-button",{staticClass:"return-list"},[s("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"},attrs:{"return-list":""}}),e._v(" 回首页")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"35px"}},[s("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(" 新增定时任务")])],1),e._v(" "),s("div",{staticStyle:{float:"right","margin-right":"100px"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTask(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name","string"==typeof t?t.trim():t)},expression:"filters.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getTask}},[e._v(" 查询")])],1)],1)],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{"row-style":e.reportRowStyle,"row-class-name":e.ReportTableRow,data:e.crons,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[s("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"定时任务名称","min-width":"30%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"35%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"createAt",label:"创建时间","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"creatorNickName",label:"创建者","min-width":"15%","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdateTime",label:"最后更新时间","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"lastUpdatorNickName",label:"最后更新人","min-width":"15%","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"next_run_time",label:"下一次执行时间","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"10%",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{directives:[{name:"show",rawName:"v-show",value:"PAUSED"!==t.row.status,expression:"scope.row.status!=='PAUSED'"}],attrs:{src:a("7shL")}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:"PAUSED"===t.row.status,expression:"scope.row.status==='PAUSED'"}],attrs:{src:a("IT+J")}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"50%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small",loading:e.statusChangeLoading},on:{click:function(a){return e.handleChangeStatus(t.$index,t.row)}}},[e._v("\n            "+e._s("PAUSED"===t.row.status?"启动":"停用")+"\n        ")])]}}])})],1),e._v(" "),s("el-dialog",{staticStyle:{width:"65%",left:"17.5%"},attrs:{title:"编辑",visible:e.editFormVisible,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[s("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name","string"==typeof t?t.trim():t)},expression:"editForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用例组",prop:"testCaseSuiteIdList"}},[s("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",multiple:"","auto-complete":"off"},on:{"visible-change":e.checkActiveCaseSuite},model:{value:e.editForm.testCaseSuiteIdList,callback:function(t){e.$set(e.editForm,"testCaseSuiteIdList",t)},expression:"editForm.testCaseSuiteIdList"}},e._l(e.Case,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e._id}})}),1),e._v(" "),s("el-checkbox",{staticStyle:{"margin-left":"50px"},attrs:{label:"是否执行禁用的用例(组)"},model:{value:e.editForm.isExecuteForbiddenedCase,callback:function(t){e.$set(e.editForm,"isExecuteForbiddenedCase",t)},expression:"editForm.isExecuteForbiddenedCase"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"测试环境",prop:"testDomain"}},[s("el-select",{attrs:{clearable:"","auto-complete":"off"},on:{"visible-change":e.checkActiveEnv},model:{value:e.editForm.testDomain,callback:function(t){e.$set(e.editForm,"testDomain",t)},expression:"editForm.testDomain"}},e._l(e.Host,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.host}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"测试数据",prop:"globalVarsId"}},[s("el-select",{attrs:{clearable:"","auto-complete":"off"},on:{"visible-change":e.checkActiveStorage},model:{value:e.editForm.globalVarsId,callback:function(t){e.$set(e.editForm,"globalVarsId",t)},expression:"editForm.globalVarsId"}},e._l(e.TestDataStorage,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e._id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"触发类型",prop:"triggerType"}},[s("el-select",{attrs:{clearable:"","auto-complete":"off"},on:{change:e.editFormTriggerTypeChange},model:{value:e.editForm.triggerType,callback:function(t){e.$set(e.editForm,"triggerType","string"==typeof t?t.trim():t)},expression:"editForm.triggerType"}},e._l(e.TriggerTypes,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},["interval"===e.editForm.triggerType.toString()||"date"===e.editForm.triggerType.toString()?s("div",{staticClass:"form-item-sub form-item-short"},[s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"interval"===e.editForm.triggerType.toString(),expression:"editForm.triggerType.toString()==='interval'"}],attrs:{label:"间隔/秒",prop:"interval"}},[s("el-input",{staticStyle:{width:"50%"},attrs:{type:"number","auto-complete":"off"},model:{value:e.editForm.interval,callback:function(t){e.$set(e.editForm,"interval","string"==typeof t?t.trim():t)},expression:"editForm.interval"}})],1),e._v(" "),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"date"===e.editForm.triggerType.toString(),expression:"editForm.triggerType.toString()==='date'"}],attrs:{label:"具体日期",prop:"runDate"}},[s("el-date-picker",{attrs:{"picker-options":e.pickerOptions,type:"datetime",placeholder:"请选择触发日期"},model:{value:e.editForm.runDate,callback:function(t){e.$set(e.editForm,"runDate","string"==typeof t?t.trim():t)},expression:"editForm.runDate"}})],1)],1):e._e()]),e._v(" "),s("el-form-item",{attrs:{label:"钉钉提醒"}},[s("el-radio",{attrs:{label:!0},model:{value:e.editForm.isDingDingNotify,callback:function(t){e.$set(e.editForm,"isDingDingNotify",t)},expression:"editForm.isDingDingNotify"}},[e._v("\n              是\n          ")]),e._v(" "),s("el-radio",{attrs:{label:!1},model:{value:e.editForm.isDingDingNotify,callback:function(t){e.$set(e.editForm,"isDingDingNotify",t)},expression:"editForm.isDingDingNotify"}},[e._v("\n              否\n          ")])],1),e._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},[e.editForm.isDingDingNotify&&"true"===e.editForm.isDingDingNotify.toString()?s("div",{staticClass:"form-item-sub form-item-short"},[s("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"钉钉Token",prop:"dingdingAccessToken"}},[s("el-input",{attrs:{placeholder:"如: 52597c9b583090fd397493626c035064f03aaf92669f032d215fde67e43a807e","auto-complete":"off"},model:{value:e.editForm.dingdingAccessToken,callback:function(t){e.$set(e.editForm,"dingdingAccessToken","string"==typeof t?t.trim():t)},expression:"editForm.dingdingAccessToken"}})],1),e._v(" "),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"===e.editForm.isDingDingNotify.toString(),expression:"editForm.isDingDingNotify.toString()==='true'"}],attrs:{label:"提醒策略"}},[s("el-checkbox",{attrs:{label:"测试全通过时提醒"},model:{value:e.editForm.dingdingNotifyStrategy.success,callback:function(t){e.$set(e.editForm.dingdingNotifyStrategy,"success",t)},expression:"editForm.dingdingNotifyStrategy.success"}}),e._v(" "),s("el-checkbox",{attrs:{label:"测试存在失败时提醒"},model:{value:e.editForm.dingdingNotifyStrategy.fail,callback:function(t){e.$set(e.editForm.dingdingNotifyStrategy,"fail",t)},expression:"editForm.dingdingNotifyStrategy.fail"}})],1)],1):e._e()]),e._v(" "),s("el-form-item",{attrs:{label:"企微提醒"}},[s("el-radio",{attrs:{label:!0},model:{value:e.editForm.isEnterpriseWechatNotify,callback:function(t){e.$set(e.editForm,"isEnterpriseWechatNotify",t)},expression:"editForm.isEnterpriseWechatNotify"}},[e._v("\n              是\n          ")]),e._v(" "),s("el-radio",{attrs:{label:!1},model:{value:e.editForm.isEnterpriseWechatNotify,callback:function(t){e.$set(e.editForm,"isEnterpriseWechatNotify",t)},expression:"editForm.isEnterpriseWechatNotify"}},[e._v("\n              否\n          ")])],1),e._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},[e.editForm.isEnterpriseWechatNotify&&"true"===e.editForm.isEnterpriseWechatNotify.toString()?s("div",{staticClass:"form-item-sub form-item-short"},[s("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"企微Token",prop:"enterpriseWechatAccessToken"}},[s("el-input",{attrs:{placeholder:"如: 618311c0-yd0f-37e0-b11d-9f7c521d8gb9","auto-complete":"off"},model:{value:e.editForm.enterpriseWechatAccessToken,callback:function(t){e.$set(e.editForm,"enterpriseWechatAccessToken","string"==typeof t?t.trim():t)},expression:"editForm.enterpriseWechatAccessToken"}})],1),e._v(" "),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"===e.editForm.isEnterpriseWechatNotify.toString(),expression:"editForm.isEnterpriseWechatNotify.toString()==='true'"}],attrs:{label:"提醒策略"}},[s("el-checkbox",{attrs:{label:"测试全通过时提醒"},model:{value:e.editForm.enterpriseWechatNotifyStrategy.success,callback:function(t){e.$set(e.editForm.enterpriseWechatNotifyStrategy,"success",t)},expression:"editForm.enterpriseWechatNotifyStrategy.success"}}),e._v(" "),s("el-checkbox",{attrs:{label:"测试存在失败时提醒"},model:{value:e.editForm.enterpriseWechatNotifyStrategy.fail,callback:function(t){e.$set(e.editForm.enterpriseWechatNotifyStrategy,"fail",t)},expression:"editForm.enterpriseWechatNotifyStrategy.fail"}})],1)],1):e._e()]),e._v(" "),s("el-form-item",{attrs:{label:"告警邮箱",prop:"alarmMailList"}},[s("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",multiple:"",placeholder:"请选择告警报告接受者(可多选)"},on:{"visible-change":e.checkActiveMailList},model:{value:e.editForm.alarmMailList,callback:function(t){e.$set(e.editForm,"alarmMailList",t)},expression:"editForm['alarmMailList']"}},e._l(e.alarmMailList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.mailAddress}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description","string"==typeof t?t.trim():t)},expression:"editForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editTask(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"65%",left:"17.5%"},attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1,width:"70%"},on:{"update:visible":function(t){e.addFormVisible=t}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[s("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用例组",prop:"testCaseSuiteIdList"}},[s("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",multiple:"","auto-complete":"off"},on:{"visible-change":e.checkActiveCaseSuite},model:{value:e.addForm.testCaseSuiteIdList,callback:function(t){e.$set(e.addForm,"testCaseSuiteIdList",t)},expression:"addForm.testCaseSuiteIdList"}},e._l(e.Case,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e._id}})}),1),e._v(" "),s("el-checkbox",{staticStyle:{"margin-left":"50px"},attrs:{label:"是否执行禁用的用例(组)"},model:{value:e.addForm.isExecuteForbiddenedCase,callback:function(t){e.$set(e.addForm,"isExecuteForbiddenedCase",t)},expression:"addForm.isExecuteForbiddenedCase"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"测试环境",prop:"testDomain"}},[s("el-select",{attrs:{clearable:"","auto-complete":"off"},on:{"visible-change":e.checkActiveEnv},model:{value:e.addForm.testDomain,callback:function(t){e.$set(e.addForm,"testDomain",t)},expression:"addForm.testDomain"}},e._l(e.Host,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.host}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"测试数据",prop:"globalVarsId"}},[s("el-select",{attrs:{clearable:"","auto-complete":"off"},on:{"visible-change":e.checkActiveStorage},model:{value:e.addForm.globalVarsId,callback:function(t){e.$set(e.addForm,"globalVarsId",t)},expression:"addForm.globalVarsId"}},e._l(e.TestDataStorage,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e._id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"触发类型",prop:"triggerType"}},[s("el-select",{attrs:{clearable:"","auto-complete":"off"},on:{change:e.addFormTriggerTypeChange},model:{value:e.addForm.triggerType,callback:function(t){e.$set(e.addForm,"triggerType","string"==typeof t?t.trim():t)},expression:"addForm.triggerType"}},e._l(e.TriggerTypes,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},["interval"===e.addForm.triggerType.toString()||"date"===e.addForm.triggerType.toString()?s("div",{staticClass:"form-item-sub form-item-short"},["interval"===e.addForm.triggerType.toString()?s("el-form-item",{attrs:{label:"间隔/秒",prop:"interval"}},[s("el-input",{staticStyle:{width:"50%"},attrs:{type:"number","auto-complete":"off"},model:{value:e.addForm.interval,callback:function(t){e.$set(e.addForm,"interval","string"==typeof t?t.trim():t)},expression:"addForm.interval"}})],1):e._e(),e._v(" "),"date"===e.addForm.triggerType.toString()?s("el-form-item",{attrs:{label:"具体日期",prop:"runDate"}},[s("el-date-picker",{attrs:{"picker-options":e.pickerOptions,type:"datetime",placeholder:"请选择触发日期"},model:{value:e.addForm.runDate,callback:function(t){e.$set(e.addForm,"runDate","string"==typeof t?t.trim():t)},expression:"addForm.runDate"}})],1):e._e()],1):e._e()]),e._v(" "),s("el-form-item",{attrs:{label:"钉钉提醒"}},[s("el-radio",{attrs:{label:!0},model:{value:e.addForm.isDingDingNotify,callback:function(t){e.$set(e.addForm,"isDingDingNotify",t)},expression:"addForm.isDingDingNotify"}},[e._v("\n              是\n          ")]),e._v(" "),s("el-radio",{attrs:{label:!1},model:{value:e.addForm.isDingDingNotify,callback:function(t){e.$set(e.addForm,"isDingDingNotify",t)},expression:"addForm.isDingDingNotify"}},[e._v("\n              否\n          ")])],1),e._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},[e.addForm.isDingDingNotify&&"true"===e.addForm.isDingDingNotify.toString()?s("div",{staticClass:"form-item-sub form-item-short"},[s("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"钉钉Token",prop:"dingdingAccessToken"}},[s("el-input",{attrs:{placeholder:"如: 52597c9b583090fd397493626c035064f03aaf92669f032d215fde67e43a807e","auto-complete":"off"},model:{value:e.addForm.dingdingAccessToken,callback:function(t){e.$set(e.addForm,"dingdingAccessToken","string"==typeof t?t.trim():t)},expression:"addForm.dingdingAccessToken"}})],1),e._v(" "),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"===e.addForm.isDingDingNotify.toString(),expression:"addForm.isDingDingNotify.toString()==='true'"}],attrs:{label:"提醒策略"}},[s("el-checkbox",{attrs:{label:"测试全通过时提醒"},model:{value:e.addForm.dingdingNotifyStrategy.success,callback:function(t){e.$set(e.addForm.dingdingNotifyStrategy,"success",t)},expression:"addForm.dingdingNotifyStrategy.success"}}),e._v(" "),s("el-checkbox",{attrs:{label:"测试存在失败时提醒"},model:{value:e.addForm.dingdingNotifyStrategy.fail,callback:function(t){e.$set(e.addForm.dingdingNotifyStrategy,"fail",t)},expression:"addForm.dingdingNotifyStrategy.fail"}})],1)],1):e._e()]),e._v(" "),s("el-form-item",{attrs:{label:"企微提醒"}},[s("el-radio",{attrs:{label:!0},model:{value:e.addForm.isEnterpriseWechatNotify,callback:function(t){e.$set(e.addForm,"isEnterpriseWechatNotify",t)},expression:"addForm.isEnterpriseWechatNotify"}},[e._v("\n              是\n          ")]),e._v(" "),s("el-radio",{attrs:{label:!1},model:{value:e.addForm.isEnterpriseWechatNotify,callback:function(t){e.$set(e.addForm,"isEnterpriseWechatNotify",t)},expression:"addForm.isEnterpriseWechatNotify"}},[e._v("\n              否\n          ")])],1),e._v(" "),s("transition",{attrs:{name:"el-zoom-in-top"}},[e.addForm.isEnterpriseWechatNotify&&"true"===e.addForm.isEnterpriseWechatNotify.toString()?s("div",{staticClass:"form-item-sub form-item-short"},[s("el-form-item",{staticStyle:{width:"90%"},attrs:{label:"企微Token",prop:"enterpriseWechatAccessToken"}},[s("el-input",{attrs:{placeholder:"如: 618311c0-yd0f-37e0-b11d-9f7c521d8gb9","auto-complete":"off"},model:{value:e.addForm.enterpriseWechatAccessToken,callback:function(t){e.$set(e.addForm,"enterpriseWechatAccessToken","string"==typeof t?t.trim():t)},expression:"addForm.enterpriseWechatAccessToken"}})],1),e._v(" "),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"===e.addForm.isEnterpriseWechatNotify.toString(),expression:"addForm.isEnterpriseWechatNotify.toString()==='true'"}],attrs:{label:"提醒策略"}},[s("el-checkbox",{attrs:{label:"测试全通过时提醒"},model:{value:e.addForm.enterpriseWechatNotifyStrategy.success,callback:function(t){e.$set(e.addForm.enterpriseWechatNotifyStrategy,"success",t)},expression:"addForm.enterpriseWechatNotifyStrategy.success"}}),e._v(" "),s("el-checkbox",{attrs:{label:"测试存在失败时提醒"},model:{value:e.addForm.enterpriseWechatNotifyStrategy.fail,callback:function(t){e.$set(e.addForm.enterpriseWechatNotifyStrategy,"fail",t)},expression:"addForm.enterpriseWechatNotifyStrategy.fail"}})],1)],1):e._e()]),e._v(" "),s("el-form-item",{attrs:{label:"告警邮箱",prop:"alarmMailList"}},[s("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",multiple:"",placeholder:"请选择告警报告接受者(可多选)"},on:{"visible-change":e.checkActiveMailList},model:{value:e.addForm.alarmMailList,callback:function(t){e.$set(e.addForm,"alarmMailList",t)},expression:"addForm['alarmMailList']"}},e._l(e.alarmMailList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.mailAddress}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description","string"==typeof t?t.trim():t)},expression:"addForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addTask(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[s("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var de=a("C7Lr")(le,ce,!1,function(e){a("c/LP")},"data-v-4fcd2bdd",null).exports;function ue(e,t,a,s){return I({url:"/api/project/"+e+"/caseSuiteList/"+t+"/caseList",headers:s,params:a,method:"GET"})}function me(e,t,a,s){return I({url:"/api/project/"+e+"/caseSuiteList/"+t+"/addCase",headers:s,method:"POST",data:a})}function pe(e,t,a,s,r){return I({url:"/api/project/"+e+"/caseSuiteList/"+t+"/caseList/"+a+"/updateCase",method:"POST",headers:r,data:s})}function ge(e,t){return I({url:"/api/exportTestCases",method:"POST",headers:t,responseType:"blob",data:e})}function fe(e,t){return I({url:"/api/startInterfaceTesting",method:"POST",headers:t,data:e})}var he=a("zH3I"),ve=a.n(he),be={created:function(){var e=this;this.pageInfoIndex=this.$store.state.apiCaseSuitePageInfo.findIndex(function(t){return t.caseSuiteId===e.$route.params.case_suite_id}),this.size=-1===this.pageInfoIndex?10:this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex]&&this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex].size||10,this.skip=-1===this.pageInfoIndex?0:this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex]&&this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex].skip||0,this.sortBy=-1===this.pageInfoIndex?"createAt":this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex]&&this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex].sortBy||"createAt",this.order=-1===this.pageInfoIndex?"descending":this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex]&&this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex].order||"descending",this.currentPage=-1===this.pageInfoIndex?1:this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex]&&this.$store.state.apiCaseSuitePageInfo[this.pageInfoIndex].currentPage||1},data:function(){return{downloadLink:"",downloadName:"",filters:{name:""},Case:[],pageInfoIndex:-1,size:10,skip:0,sortBy:"createAt",order:"descending",currentPage:1,totalNum:0,testUrl:"",testDataId:"",listLoading:!1,copyLoading:!1,exportLoading:!1,sels:[],delLoading:!1,statusChangeLoading:!1,importLoading:!1,disDel:!0,TestStatus:!1,Host:[],TestDataStorage:[],hasSels:!1,editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],automationGroupLevelFirst:[{type:"number",required:!0,message:"请选择分组",trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},editForm:{name:"",description:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],description:[{required:!1,message:"请输入版本号",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},addForm:{name:"",description:""},importExtraData:{projectId:this.$route.params.project_id,userName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"}}},methods:{executeTest:function(){var e=this;if(e.testUrl){e.listLoading=!0,e.update=!0;var t=e.sels.map(function(e){return e._id});fe(y()({domain:e.testUrl,caseSuiteIdList:t,executorNickName:unescape(j("nickName").replace(/\\u/g,"%u")),executionMode:"用例组手动执行",globalVarsId:e.testDataId}),{"Content-Type":"application/json"}).then(function(t){e.listLoading=!1,e.update=!1;var a=t.status,s=t.data;"ok"===a?e.$message.success({message:"测试已成功启动，请稍后前往「测试报告」查看报告",center:!0}):e.$message.warning({message:s,center:!0}),e.getCaseSuites()}).catch(function(t){e.$message.error({message:"用例执行异常/超时，请稍后重试哦~",center:!0}),e.listLoading=!1,e.update=!1})}else this.$message({message:"请选择「测试环境」, 在「执行测试」按钮右边哦~",center:!0,type:"warning"})},TestReport:function(){this.$router.push({name:"测试报告",params:{project_id:this.$route.params.project_id}})},getTestDataStorage:function(){var e=this,t={status:!0,projectId:e.$route.params.project_id};oe(e.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.TestDataStorage=s.rows:e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"暂时无法获取 TestDataStorage，请稍后刷新重试~",center:!0})})},getHost:function(){var e=this,t={status:!0,projectId:e.$route.params.project_id};te(e.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.Host=s.rows:e.$message.error({message:s,center:!0})})},onBeforeUpload:function(e){var t=e.name.split(".");return"xls"===t[1]||"xlsx"===t[1]?e:(this.$message.warning("只接收 .xls / .xlsx 文件哦 ~ "),!1)},onSuccessUpload:function(e){var t=e.status,a=e.data;"ok"===t?this.$message.success(a):this.$message.error(a),this.getCaseSuites(),this.importLoading=!1},onProgressUpload:function(e){this.importLoading=!0},onErrorUpload:function(e){this.importLoading=!1,this.$message.error(e)},getCaseSuites:function(){this.listLoading=!0;var e=this,t={skip:e.skip,size:e.size,sortBy:e.sortBy,order:e.order,projectId:e.$route.params.project_id};""!==e.filters.name.trim()&&(t.name=e.filters.name.trim());K(e.$route.params.project_id,t,{}).then(function(t){e.listLoading=!1;var a=t.status,s=t.data;"ok"===a?(e.Case=s.rows,e.totalNum=s.totalNum):e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"用例列表获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},handleSizeChange:function(e){var t=this;t.$store.commit("setApiCaseSuitePageInfo",{size:e,projectId:t.$route.params.project_id}),t.pageInfoIndex=t.$store.state.apiCaseSuitePageInfo.findIndex(function(e){return e.projectId===t.$route.params.project_id}),t.size=t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex]&&t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex].size||10,t.listLoading=!0;var a={skip:t.skip,size:t.size,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};K(t.$route.params.project_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.Case=s.rows,t.totalNum=s.totalNum):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"用例列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleCurrentChange:function(e){var t=this;t.listLoading=!0,t.$store.commit("setApiCaseSuitePageInfo",{skip:(e-1)*t.size,projectId:t.$route.params.project_id}),t.pageInfoIndex=t.$store.state.apiCaseSuitePageInfo.findIndex(function(e){return e.projectId===t.$route.params.project_id}),t.skip=t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex]&&t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex].skip||0,t.$store.commit("setApiCaseSuitePageInfo",{currentPage:t.currentPage,projectId:t.$route.params.project_id}),t.pageInfoIndex=t.$store.state.apiCaseSuitePageInfo.findIndex(function(e){return e.projectId===t.$route.params.project_id});var a={skip:t.skip,size:t.size,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};K(t.$route.params.project_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.Case=s.rows,t.totalNum=s.totalNum):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"用例列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(e){a.editLoading=!0;var s=a;ee(s.$route.params.project_id,t._id,{isDeleted:!0},{}).then(function(e){s.editLoading=!1;var t=e.status,a=e.data;"ok"===t?(s.$message.success({message:"删除成功",center:!0}),s.getCaseSuites()):(s.$message.error({message:a,center:!0}),s.getCaseSuites())}).catch(function(){s.$message.error({message:"删除用例失败,请稍后重试哦",center:!0}),s.editLoading=!1})})},selsChange:function(e){e.length>0?(this.sels=e,this.hasSels=!0):this.hasSels=!1},batchRemove:function(){},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},this.editForm,t)},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){a&&e.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e={name:t.editForm.name,description:t.editForm.description,lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"},a={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};ee(t.$route.params.project_id,t.editForm._id,e,a).then(function(e){t.editLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.editFormVisible=!1,t.$message.success({message:"编辑成功",center:!0}),t.getCaseSuites()):(t.editFormVisible=!1,t.$message.error({message:s,center:!0}),t.getCaseSuites())})}).catch(function(){t.$message.error({message:"编辑用例失败,请稍后重试哦",center:!0}),t.editFormVisible=!1})})},exportCases:function(){var e=this;return l()(i.a.mark(function t(){var a,s,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=e).exportLoading=!0,s=a.sels.map(function(e){return e._id}),r={"Content-Type":"application/json"},ge(y()({caseSuiteIds:s}),r).then(function(t){var s=new Blob([t]);a.downloadLink=window.URL.createObjectURL(s),a.downloadName="测试用例_"+ve()().format("YYYY-MM-DD-HH-mm-ss")+".xlsx",a.$nextTick(function(){a.$el.querySelector(".js-download-doc").click(),window.URL.revokeObjectURL(e.downloadLink),a.exportLoading=!1,a.$message.success({message:"用例导出成功",center:!0})})}).catch(function(e){console.log(e),a.$message.error({message:"用例导出失败，请稍后重试哦~",center:!0}),a.exportLoading=!1});case 6:case"end":return t.stop()}},t,e)}))()},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.addLoading=!0;var e={name:a.addForm.name,description:a.addForm.description,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};(function(e,t,a){return I({url:"/api/project/"+e+"/addCaseSuite",headers:a,method:"POST",data:t})})(a.$route.params.project_id,e,{}).then(function(e){a.addLoading=!1;var t=e.status,s=e.data;"ok"===t?(a.addFormVisible=!1,a.$message.success({message:"添加成功",center:!0}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getCaseSuites()):(a.addFormVisible=!1,a.$message.error({message:s,center:!0}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getCaseSuites())}).catch(function(){a.$message.error({message:"新增用例失败,请稍后重试哦",center:!0}),a.addLoading=!1})})}})},copyCaseSuite:function(e,t){var a=this;a.copyLoading=!0;(function(e,t,a,s){return I({url:"/api/project/"+e+"/caseSuiteList/"+t+"/copyCaseSuite",method:"POST",headers:s,data:a})})(a.$route.params.project_id,t._id,{},{"Content-Type":"application/json"}).then(function(e){a.copyLoading=!1;var t=e.status,s=e.data;"ok"===t?a.$message.success({message:s,center:!0}):a.$message.error({message:s,center:!0}),a.getCaseSuites()}).catch(function(e){a.$message.error({message:"用例组复制失败，请稍后重试哦~",center:!0}),a.copyLoading=!1})},sortChange:function(e){var t=this;t.listLoading=!0,t.$store.commit("setApiCaseSuitePageInfo",{sortBy:e.prop,projectId:t.$route.params.project_id}),t.pageInfoIndex=t.$store.state.apiCaseSuitePageInfo.findIndex(function(e){return e.projectId===t.$route.params.project_id}),t.sortBy=t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex]&&t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex].sortBy||"createAt",t.$store.commit("setApiCaseSuitePageInfo",{order:e.order,projectId:t.$route.params.project_id}),t.order=t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex]&&t.$store.state.apiCaseSuitePageInfo[t.pageInfoIndex].order||"descending";var a={skip:t.skip,size:t.size,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};K(t.$route.params.project_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.Case=s.rows,t.totalNum=s.totalNum):t.$message.error({message:s,center:!0})})},handleChangeStatus:function(e,t){var a=this,s=this;s.statusChangeLoading=!0;var r={status:!t.status};ee(this.$route.params.project_id,t._id,r,{"Content-Type":"application/json"}).then(function(e){var a=e.status,r=e.data;s.statusChangeLoading=!1,"ok"===a?(s.$message({message:"状态变更成功",center:!0,type:"success"}),t.status=!t.status):s.$message.error({message:r,center:!0}),s.getCaseSuites()}).catch(function(){s.$message.error({message:"用例组状态更新失败,请稍后重试哦",center:!0}),s.statusChangeLoading=!1,a.getCaseSuites()})},checkActiveEnv:function(){this.Host.length<1&&this.$message.warning({message:"未找到「启用的测试环境」哦, 请前往「Host配置」进行设置",center:!0})},checkActiveStorage:function(){this.TestDataStorage.length<1&&this.$message.warning({message:"未找到「启用的数据字典」哦, 请前往「数据仓库」进行设置",center:!0})},reportRowStyle:function(e){var t=e.row;e.rowIndex;return!0!==t.status?"background-color: #DDDDDD":""},ReportTableRow:function(e){e.row,e.rowIndex;return"reportTableRow"}},mounted:function(){this.getCaseSuites(),this.getHost(),this.getTestDataStorage()},computed:{getImportUrl:function(){return"/api/importTestCases"}}},ke={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("el-col",{staticClass:"toolbar",attrs:{span:24}},[s("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[s("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"接口测试"}}},[s("el-button",{staticClass:"return-list"},[s("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"},attrs:{"return-list":""}}),e._v(" 回首页")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"35px"}},[s("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(" 新增用例")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"5px"}},[s("el-button",{staticClass:"el-icon-caret-right",attrs:{type:"primary",disabled:!e.hasSels},on:{click:e.executeTest}},[e._v(" 执行测试")])],1),e._v(" "),s("el-select",{attrs:{clearable:"",placeholder:"测试数据"},on:{"visible-change":e.checkActiveStorage},model:{value:e.testDataId,callback:function(t){e.testDataId=t},expression:"testDataId"}},e._l(e.TestDataStorage,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e._id}})}),1),e._v(" "),s("el-select",{staticStyle:{"margin-left":"5px"},attrs:{clearable:"",placeholder:"测试环境"},on:{"visible-change":e.checkActiveEnv},model:{value:e.testUrl,callback:function(t){e.testUrl=t},expression:"testUrl"}},e._l(e.Host,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e.host}})}),1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"5px"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"只接收 xls / xlsx 哦~",placement:"top-start"}},[s("el-upload",{attrs:{action:e.getImportUrl,"before-upload":e.onBeforeUpload,"on-success":e.onSuccessUpload,"on-error":e.onErrorUpload,"on-progress":e.onProgressUpload,"show-file-list":!1,"with-credentials":!0,data:e.importExtraData}},[s("el-button",{staticClass:"el-icon-upload2",staticStyle:{"margin-left":"5px"},attrs:{disabled:e.importLoading,type:"primary"}},[e._v(" 用例导入")])],1)],1)],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"5px"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"导出格式是 xlsx 哦~",placement:"top-start"}},[s("el-button",{staticClass:"el-icon-download",staticStyle:{"margin-right":"3px"},attrs:{loading:e.exportLoading,disabled:!e.hasSels,type:"primary"},on:{click:e.exportCases}},[e._v(" 用例导出")])],1)],1),e._v(" "),s("div",{staticStyle:{float:"right","margin-right":"132px"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"用例名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getCaseSuites(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name","string"==typeof t?t.trim():t)},expression:"filters.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getCaseSuites}},[e._v(" 查询")])],1)],1)],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"65%",left:"17.5%"},attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[s("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name","string"==typeof t?t.trim():t)},expression:"editForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description","string"==typeof t?t.trim():t)},expression:"editForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"65%",left:"17.5%"},attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description","string"==typeof t?t.trim():t)},expression:"addForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.Case,"row-style":e.reportRowStyle,"row-class-name":e.ReportTableRow,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[s("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"name",label:"用例名称","min-width":"60%","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-icon",{attrs:{name:"name"}}),e._v(" "),s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"用例接口列表",params:{case_suite_id:t.row._id,showWarmPrompt:!0}}}},[e._v("\n                        "+e._s(t.row.name)+"\n                ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"description",label:"描述","min-width":"30%","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"createAt",label:"创建时间","min-width":"30%","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"creatorNickName",label:"创建者","min-width":"15%","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"lastUpdateTime",label:"最后更新时间","min-width":"30%","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{sortable:"custom",prop:"lastUpdatorNickName",label:"最后更新人","min-width":"20%","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"15%",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{directives:[{name:"show",rawName:"v-show",value:t.row.status,expression:"scope.row.status"}],attrs:{src:a("7shL")}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.row.status,expression:"!scope.row.status"}],attrs:{src:a("IT+J")}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"80%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"copyBtn",attrs:{size:"small",loading:e.copyLoading},on:{click:function(a){return e.copyCaseSuite(t.$index,t.row)}}},[e._v("复制")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small",loading:e.statusChangeLoading},on:{click:function(a){return e.handleChangeStatus(t.$index,t.row)}}},[e._v("\n                    "+e._s(!1===t.row.status?"启用":"禁用")+"\n                ")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[0!=e.totalNum?s("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.currentPage,"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}):e._e()],1),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"js-download-doc",attrs:{href:e.downloadLink,download:e.downloadName}})],1)},staticRenderFns:[]};var ye=a("C7Lr")(be,ke,!1,function(e){a("yc9E")},"data-v-655fbc76",null).exports,we={created:function(){var e=this;this.pageInfoIndex=this.$store.state.apiCasePageInfo.findIndex(function(t){return t.caseSuiteId===e.$route.params.case_suite_id}),this.size=-1===this.pageInfoIndex?10:this.$store.state.apiCasePageInfo[this.pageInfoIndex]&&this.$store.state.apiCasePageInfo[this.pageInfoIndex].size||10,this.skip=-1===this.pageInfoIndex?0:this.$store.state.apiCasePageInfo[this.pageInfoIndex]&&this.$store.state.apiCasePageInfo[this.pageInfoIndex].skip||0,this.sortBy=-1===this.pageInfoIndex?"createAt":this.$store.state.apiCasePageInfo[this.pageInfoIndex]&&this.$store.state.apiCasePageInfo[this.pageInfoIndex].sortBy||"createAt",this.order=-1===this.pageInfoIndex?"descending":this.$store.state.apiCasePageInfo[this.pageInfoIndex]&&this.$store.state.apiCasePageInfo[this.pageInfoIndex].order||"descending",this.currentPage=-1===this.pageInfoIndex?1:this.$store.state.apiCasePageInfo[this.pageInfoIndex]&&this.$store.state.apiCasePageInfo[this.pageInfoIndex].currentPage||1},data:function(){var e=this;return{downloadName:"",downloadLink:"",protocolOptions:[{label:"HTTP",value:"HTTP"},{label:"HTTPS",value:"HTTPS"}],methodOptions:[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"OPTIONS",value:"OPTIONS"},{label:"PATCH",value:"PATCH"},{label:"HEAD",value:"HEAD"}],ApiList:[],listLoading:!1,testLoading:!1,importLoading:!1,exportLoading:!1,copyLoading:!1,statusChangeLoading:!1,delLoading:!1,searchName:"",pageInfoIndex:-1,size:10,skip:0,hasSels:!1,sortBy:"createAt",order:"descending",currentPage:1,totalNum:0,url:"",Host:[],testDataId:"",TestDataStorage:[],apiListLoading:!1,sels:[],TestResult:!1,result:{},addFormVisible:!1,ApiListLen:"",ApiListIndex:0,activeIndex:"",addForm:{name:"",description:"",requestProtocol:"",requestMethod:"",route:""},addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],requestProtocol:[{required:!0,message:"请选择类型",trigger:"blur"}],requestMethod:[{required:!0,message:"请选择类型",trigger:"blur"}],route:[{required:!0,message:"请输入路由(如:/chat)",trigger:"blur"},{validator:function(t,a,s){""!==a&&null!==a?0!=!a.indexOf("/")?s():(s(new Error("请输入路由(如: /chat)")),e.$message.warning({message:"路由格式不正确!",center:!0})):s()},trigger:"blur"}],description:[{required:!1,message:"请输入版本号",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},filters:{name:""},importExtraData:{caseSuiteId:this.$route.params.case_suite_id,projectId:this.$route.params.project_id,userName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"}}},methods:{handleSelect:function(e,t){this.activeIndex=e},getCaseApiList:function(){var e=this;return l()(i.a.mark(function t(){var a,s,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.listLoading=!0,s={size:(a=e).size,skip:a.skip,sortBy:a.sortBy,order:a.order,projectId:a.$route.params.project_id,caseSuiteId:a.$route.params.case_suite_id},""!==a.filters.name.trim()&&(s.name=a.filters.name.trim()),r={},ue(a.$route.params.project_id,a.$route.params.case_suite_id,s,r).then(function(e){a.listLoading=!1;var t=e.status,s=e.data;"ok"===t?(a.totalNum=s.totalNum,a.ApiList=s.rows):a.$message.error({message:s,center:!0})}).catch(function(e){a.$message.error({message:"接口用例列表获取失败，请稍后刷新重试哦~",center:!0}),a.listLoading=!1});case 7:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){var t=this;t.listLoading=!0,t.$store.commit("setApiCasePageInfo",{size:e,caseSuiteId:t.$route.params.case_suite_id}),t.pageInfoIndex=t.$store.state.apiCasePageInfo.findIndex(function(e){return e.caseSuiteId===t.$route.params.case_suite_id}),t.size=t.$store.state.apiCasePageInfo[t.pageInfoIndex]&&t.$store.state.apiCasePageInfo[t.pageInfoIndex].size||10;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id,caseSuiteId:t.$route.params.case_suite_id};ue(t.$route.params.project_id,t.$route.params.case_suite_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.ApiList=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"接口用例列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleChangeStatus:function(e,t){var a=this,s=this;s.statusChangeLoading=!0;var r={status:!t.status};pe(this.$route.params.project_id,this.$route.params.case_suite_id,t._id,r,{"Content-Type":"application/json"}).then(function(e){var a=e.status,r=e.data;s.statusChangeLoading=!1,"ok"===a?(s.$message({message:"状态变更成功",center:!0,type:"success"}),t.status=!t.status):s.$message.error({message:r,center:!0}),s.getCaseApiList()}).catch(function(){s.$message.error({message:"用例状态更新失败,请稍后重试哦",center:!0}),s.statusChangeLoading=!1,a.getCaseApiList()})},handleCurrentChange:function(e){var t=this;t.listLoading=!0,t.$store.commit("setApiCasePageInfo",{skip:(e-1)*t.size,caseSuiteId:t.$route.params.case_suite_id}),t.pageInfoIndex=t.$store.state.apiCasePageInfo.findIndex(function(e){return e.caseSuiteId===t.$route.params.case_suite_id}),t.skip=t.$store.state.apiCasePageInfo[t.pageInfoIndex]&&t.$store.state.apiCasePageInfo[t.pageInfoIndex].skip||0,t.$store.commit("setApiCasePageInfo",{currentPage:t.currentPage,caseSuiteId:t.$route.params.case_suite_id}),t.pageInfoIndex=t.$store.state.apiCasePageInfo.findIndex(function(e){return e.caseSuiteId===t.$route.params.case_suite_id});var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id,caseSuiteId:t.$route.params.case_suite_id};ue(t.$route.params.project_id,t.$route.params.case_suite_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.ApiList=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"接口用例列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},sortChange:function(e){var t=this;t.listLoading=!0,t.$store.commit("setApiCasePageInfo",{sortBy:e.prop,caseSuiteId:t.$route.params.case_suite_id}),t.pageInfoIndex=t.$store.state.apiCasePageInfo.findIndex(function(e){return e.caseSuiteId===t.$route.params.case_suite_id}),t.sortBy=t.$store.state.apiCasePageInfo[t.pageInfoIndex]&&t.$store.state.apiCasePageInfo[t.pageInfoIndex].sortBy||"createAt",t.$store.commit("setApiCasePageInfo",{order:e.order,caseSuiteId:t.$route.params.case_suite_id}),t.pageInfoIndex=t.$store.state.apiCasePageInfo.findIndex(function(e){return e.caseSuiteId===t.$route.params.case_suite_id}),t.order=t.$store.state.apiCasePageInfo[t.pageInfoIndex]&&t.$store.state.apiCasePageInfo[t.pageInfoIndex].order||"descending";var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id,caseSuiteId:t.$route.params.case_suite_id};ue(t.$route.params.project_id,t.$route.params.case_suite_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.totalNum=s.totalNum,t.ApiList=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"接口用例列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},copyCase:function(e,t){var a=this;a.copyLoading=!0;(function(e,t,a,s,r){return I({url:"/api/project/"+e+"/caseSuiteList/"+t+"/caseList/"+a+"/copyCase",method:"POST",headers:r,data:s})})(a.$route.params.project_id,a.$route.params.case_suite_id,t._id,{},{"Content-Type":"application/json"}).then(function(e){a.copyLoading=!1;var t=e.status,s=e.data;"ok"===t?a.$message.success({message:s,center:!0}):a.$message.error({message:s,center:!0}),a.getCaseApiList()}).catch(function(e){a.$message.error({message:"用例复制失败，请稍后重试哦~",center:!0}),a.copyLoading=!1})},Test:function(e,t){if(this.url){t.testStatus=!0;var a=this;a.testLoading=!0;fe({caseIdList:[t._id],domain:a.url,executorNickName:unescape(j("nickName").replace(/\\u/g,"%u")),executionMode:"单个用例手动执行",globalVarsId:a.testDataId},{"Content-Type":"application/json"}).then(function(e){a.testLoading=!1;var s=e.status,r=e.data;"ok"===s?(a.getCaseApiList(),t.testStatus=!1):a.$message.warning({message:r,center:!0}),a.getCaseApiList(),t.testStatus=!1}).catch(function(e){a.$message.error({message:"用例执行异常/超时，请稍后重试哦~",center:!0}),a.testLoading=!1,a.getCaseApiList(),t.testStatus=!1})}else this.$message({message:"请选择测试环境, 在测试按钮上方哦~",center:!0,type:"warning"})},onBeforeUpload:function(e){var t=e.name.split(".");return"xls"===t[1]||"xlsx"===t[1]?e:(this.$message.warning("只接收 .xls / .xlsx 文件哦 ~ "),!1)},onSuccessUpload:function(e){var t=e.status,a=e.data;"ok"===t?this.$message.success(a):this.$message.error(a),this.getCaseApiList(),this.importLoading=!1},onProgressUpload:function(e){this.importLoading=!0},onErrorUpload:function(e){this.importLoading=!1,this.$message.error(e)},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.addLoading=!0;var e={name:a.addForm.name,requestProtocol:a.addForm.requestProtocol,requestMethod:a.addForm.requestMethod,route:a.addForm.route,description:a.addForm.description,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};me(a.$route.params.project_id,a.$route.params.case_suite_id,e,{}).then(function(e){a.addLoading=!1;var t=e.status,s=e.data;"ok"===t?(a.$message.success({message:"保存成功",center:!0}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getCaseApiList()):a.$message.error({message:s,center:!0})}).catch(function(){a.$message.error({message:"新增接口用例失败,请稍后重试哦",center:!0}),a.addLoading=!1})})}})},exportCases:function(){var e=this;return l()(i.a.mark(function t(){var a,s,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=e).exportLoading=!0,s=a.sels.map(function(e){return e._id}),r={"Content-Type":"application/json"},ge(y()({testingCaseIds:s}),r).then(function(t){var s=new Blob([t]);a.downloadLink=window.URL.createObjectURL(s),a.downloadName="测试用例_"+ve()().format("YYYY-MM-DD-HH-mm-ss")+".xlsx",a.$nextTick(function(){a.$el.querySelector(".js-download-doc").click(),window.URL.revokeObjectURL(e.downloadLink),a.exportLoading=!1,a.$message.success({message:"用例导出成功",center:!0})})}).catch(function(e){console.log(e),a.$message.error({message:"用例导出失败，请稍后重试哦~",center:!0}),a.exportLoading=!1});case 6:case"end":return t.stop()}},t,e)}))()},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){var e=a;e.delLoading=!0;pe(e.$route.params.project_id,e.$route.params.case_suite_id,t._id,{isDeleted:!0},{}).then(function(t){e.delLoading=!1;var a=t.status,s=t.data;"ok"===a?(e.$message.success({message:"删除成功",center:!0}),e.getCaseApiList()):(e.$message.error({message:s,center:!0}),e.getCaseApiList())}).catch(function(){e.$message.error({message:"删除失败,请稍后重试哦",center:!0}),e.delLoading=!1})})},resultShow:function(e){this.listLoading=!0,this.result.name=e.name,this.getResult(e._id)},getResult:function(e){var t=this,a=this;(function(e,t){return I({url:"/api/getLastSingleTestResult/"+e,method:"GET",headers:t,params:null})})(e,{"Content-Type":"application/json"}).then(function(e){t.listLoading=!1;var s=e.status,r=e.data;if("ok"===s){a.result.url=r.testBaseInfo.url,a.result.requestType=r.testBaseInfo.requestMethod,a.result.headers=r.testBaseInfo.headers,a.result.cookies=r.testBaseInfo.cookies,a.result.requestParameter=r.testBaseInfo.presendParams,r.testBaseInfo.checkHttpCode?a.result.checkHttpCode=r.testBaseInfo.checkHttpCode:a.result.checkHttpCode="无",!r.testBaseInfo.checkResponseData||1===r.testBaseInfo.checkResponseData.length&&""===r.testBaseInfo.checkResponseData[0].regex.trim()?a.result.checkResponseData="无":a.result.checkResponseData=r.testBaseInfo.checkResponseData,!r.testBaseInfo.checkResponseNumber||1===r.testBaseInfo.checkResponseNumber.length&&""===r.testBaseInfo.checkResponseNumber[0].expressions.expectResult.trim()?a.result.checkResponseNumber="无":a.result.checkResponseNumber=r.testBaseInfo.checkResponseNumber,!r.testBaseInfo.checkResponseSimilarity||1===r.testBaseInfo.checkResponseSimilarity.length&&""===r.testBaseInfo.checkResponseSimilarity[0].compairedText.trim()?a.result.checkResponseSimilarity="无":a.result.checkResponseSimilarity=r.testBaseInfo.checkResponseSimilarity,a.result.result=r.status,a.result.responseHttpStatusCode=r.responseHttpStatusCode;try{a.result.responseData=JSON.parse(r.responseData)}catch(e){a.result.responseData=r.responseData}a.result.testConclusion=r.testConclusion,a.result.testTime=ve()(r.testStartTime).format("YYYY年MM月DD日HH时mm分ss秒"),a.TestResult=!0}else a.$message.error({message:r,center:!0})}).catch(function(e){console.log(e),a.$message.error({message:"暂时无法查看报告，请稍后刷新重试~",center:!0}),a.listLoading=!1})},getTestDataStorage:function(){var e=this,t={status:!0,projectId:e.$route.params.project_id};oe(e.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.TestDataStorage=s.rows:e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"暂时无法获取 TestDataStorage，请稍后刷新重试~",center:!0})})},getHost:function(){var e=this,t={status:!0,projectId:e.$route.params.project_id};te(e.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.Host=s.rows:e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"暂时无法获取 HOST，请稍后刷新重试~",center:!0})})},checkActiveEnv:function(){this.Host.length<1&&this.$message.warning({message:"未找到「启用的测试环境」哦, 请前往「Host配置」进行设置",center:!0})},checkActiveStorage:function(){this.TestDataStorage.length<1&&this.$message.warning({message:"未找到「启用的数据字典」哦, 请前往「数据仓库」进行设置",center:!0})},handleAdd:function(){this.addFormVisible=!0},reportRowStyle:function(e){var t=e.row;e.rowIndex;return!0!==t.status?"background-color: #DDDDDD":""},ReportTableRow:function(e){e.row,e.rowIndex;return"reportTableRow"},selsChange:function(e){e.length>0?(this.sels=e,this.hasSels=!0):this.hasSels=!1},warmPrompt:function(){this.$router.history.current.params.showWarmPrompt&&this.$message.info({message:"测试用例默认按照「创建时间」倒序排序，执行顺序按照「创建时间」正序执行~",center:!0})}},mounted:function(){this.getCaseApiList(),this.getHost(),this.getTestDataStorage(),this.warmPrompt()},computed:{getImportUrl:function(){return"/api/importTestCases"}}},_e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("el-dialog",{staticStyle:{width:"75%",left:"12.5%"},attrs:{width:"80%",title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[s("el-form-item",{attrs:{label:"用例名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"协议",prop:"requestProtocol"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.requestProtocol,callback:function(t){e.$set(e.addForm,"requestProtocol",t)},expression:"addForm.requestProtocol"}},e._l(e.protocolOptions,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"请求方法",prop:"requestMethod"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.requestMethod,callback:function(t){e.$set(e.addForm,"requestMethod",t)},expression:"addForm.requestMethod"}},e._l(e.methodOptions,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"接口路由",prop:"route"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.route,callback:function(t){e.$set(e.addForm,"route","string"==typeof t?t.trim():t)},expression:"addForm.route"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:6},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description",t)},expression:"addForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[s("el-form",{attrs:{inline:!0}},[s("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"用例列表",params:{project_id:this.$route.params.project_id}}}},[s("el-button",{staticClass:"return-list"},[s("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"},attrs:{"return-list":""}}),e._v("用例列表")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"35px"}},[s("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(" 新建接口用例")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"5px"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"只接收 xls / xlsx 哦~",placement:"top-start"}},[s("el-upload",{attrs:{action:e.getImportUrl,"before-upload":e.onBeforeUpload,"on-success":e.onSuccessUpload,"on-error":e.onErrorUpload,"on-progress":e.onProgressUpload,"show-file-list":!1,"with-credentials":!0,data:e.importExtraData}},[s("el-button",{staticClass:"el-icon-upload2",attrs:{disabled:e.importLoading,type:"primary"}},[e._v(" 用例导入")])],1)],1)],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"5px"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"导出格式是 xlsx 哦~",placement:"top-start"}},[s("el-button",{staticClass:"el-icon-download",attrs:{loading:e.exportLoading,disabled:!e.hasSels,type:"primary"},on:{click:e.exportCases}},[e._v(" 用例导出")])],1)],1),e._v(" "),s("el-form-item",{staticStyle:{float:"right","margin-right":"116px"}},[s("el-select",{attrs:{clearable:"",placeholder:"测试数据"},on:{"visible-change":e.checkActiveStorage},model:{value:e.testDataId,callback:function(t){e.testDataId=t},expression:"testDataId"}},e._l(e.TestDataStorage,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e._id}})}),1),e._v(" "),s("el-select",{attrs:{clearable:"",placeholder:"测试环境"},on:{"visible-change":e.checkActiveEnv},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}},e._l(e.Host,function(e,t){return s("el-option",{key:t+"",attrs:{label:e.name,value:e.host}})}),1),e._v(" "),s("el-form-item",[s("el-input",{attrs:{placeholder:"名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getCaseApiList(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name","string"==typeof t?t.trim():t)},expression:"filters.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getCaseApiList}},[e._v(" 查询")])],1)],1)],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.ApiList,"row-style":e.reportRowStyle,"row-class-name":e.ReportTableRow,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[s("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"接口用例名称","min-width":"60%",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-icon",{attrs:{name:"name"}}),e._v(" "),s("router-link",{staticStyle:{"text-decoration":"none",color:"#000000"},attrs:{to:{name:"修改用例",params:{case_id:t.row._id}}}},[e._v(e._s(t.row.name)+"\n                ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"route",label:"接口地址","min-width":"30%",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"HttpStatus"},[e._v(e._s(t.row.requestMethod))]),s("span",{staticStyle:{"font-size":"16px"}},[e._v(e._s(t.row.route))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"description",label:"用例描述","min-width":"35%",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.description))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"createAt",label:"创建时间","min-width":"35%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"creatorNickName",label:"创建者","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdateTime",label:"最后更新时间","min-width":"35%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdatorNickName",label:"最后更新人","min-width":"28%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"result",label:"测试结果","min-width":"25%",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"show",rawName:"v-show",value:"ok"!==t.row.lastManualTestResult.status&&"failed"!==t.row.lastManualTestResult.status&&!t.row.testStatus,expression:"scope.row.lastManualTestResult.status!=='ok'&&scope.row.lastManualTestResult.status!=='failed'&&!scope.row.testStatus"}]},[e._v("尚无手动测试结果")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.row.testStatus,expression:"scope.row.testStatus"}]},[e._v("测试中...")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.testStatus&&"ok"===t.row.lastManualTestResult.status,expression:"!scope.row.testStatus && scope.row.lastManualTestResult.status==='ok'"}],staticStyle:{color:"#11b95c",cursor:"pointer"},on:{click:function(a){return e.resultShow(t.row)}}},[e._v("通过,查看详情")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.testStatus&&"failed"===t.row.lastManualTestResult.status,expression:"!scope.row.testStatus && scope.row.lastManualTestResult.status==='failed'"}],staticStyle:{color:"#cc0000",cursor:"pointer"},on:{click:function(a){return e.resultShow(t.row)}}},[e._v("失败,查看详情")])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"17%",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{directives:[{name:"show",rawName:"v-show",value:t.row.status,expression:"scope.row.status"}],attrs:{src:a("7shL")}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.row.status,expression:"!scope.row.status"}],attrs:{src:a("IT+J")}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"110%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small",loading:e.testLoading},on:{click:function(a){return e.Test(t.$index,t.row)}}},[e._v("测试")]),e._v(" "),s("el-button",{staticClass:"copyBtn",attrs:{size:"small",loading:e.copyLoading},on:{click:function(a){return e.copyCase(t.$index,t.row)}}},[e._v("复制")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small",loading:e.statusChangeLoading},on:{click:function(a){return e.handleChangeStatus(t.$index,t.row)}}},[e._v("\n                    "+e._s(!1===t.row.status?"启用":"禁用")+"\n                ")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small",loading:e.delLoading},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[0!=e.totalNum?s("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.currentPage,"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}):e._e()],1),e._v(" "),s("el-dialog",{attrs:{title:"测试结果",visible:e.TestResult,"close-on-click-modal":!1},on:{"update:visible":function(t){e.TestResult=t}}},[s("div",{staticStyle:{height:"700px",overflow:"auto","overflow-x":"hidden",border:"1px solid #e6e6e6"}},[s("div",{staticClass:"resultStyle",staticStyle:{"font-size":"25px","margin-bottom":"10px"}},[e._v(e._s(e.result.name))]),e._v(" "),s("div",{staticClass:"lin"}),e._v(" "),s("div",{staticClass:"resultStyle"},[e._v("请求地址:  "+e._s(e.result.url))]),e._v(" "),s("div",{staticClass:"resultStyle"},[e._v("请求方式:  "+e._s(e.result.requestType))]),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"padding-bottom":"10px"}},[e._v("请求时间:  "+e._s(e.result.testTime))]),e._v(" "),s("div",{staticClass:"lin"}),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"font-size":"25px"}},[e._v("请求头部")]),e._v(" "),e._l(e.result.headers,function(t,a){return s("div",{staticClass:"resultStyle"},[e._v(e._s(a)+":  "+e._s(t))])}),e._v(" "),!e.result.headers||e.result.headers&&Object.keys(e.result.headers).length<=0?s("div",{staticClass:"resultStyle"},[e._v("(无任何header)")]):e._e(),e._v(" "),s("div",{staticClass:"lin",staticStyle:{"margin-top":"10px"}}),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"font-size":"25px"}},[e._v("Cookie")]),e._v(" "),e._l(e.result.cookies,function(t){return s("div",{staticClass:"resultStyle"},[e._v(e._s(t.name)+":  "+e._s(t.value))])}),e._v(" "),!e.result.cookies||e.result.cookies&&e.result.cookies.length<=0?s("div",{staticClass:"resultStyle"},[e._v("(无任何Cookie)")]):e._e(),e._v(" "),s("div",{staticClass:"lin",staticStyle:{"margin-top":"10px"}}),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"font-size":"25px"}},[e._v("请求参数")]),e._v(" "),e._l(e.result.requestParameter,function(t,a){return s("div",{staticClass:"resultStyle"},[e._v(e._s(a)+":  "+e._s(t))])}),e._v(" "),!e.result.requestParameter||e.result.requestParameter&&Object.keys(e.result.requestParameter).length<=0?s("div",{staticClass:"resultStyle"},[e._v("(无任何请求参数)")]):e._e(),e._v(" "),s("div",{staticClass:"lin",staticStyle:{"margin-top":"10px"}}),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"font-size":"25px"}},[e._v("预期结果")]),e._v(" "),s("div",{staticClass:"resultStyle"},[e._v("HTTP状态码:  "+e._s(e.result.checkHttpCode))]),e._v(" "),s("div",{staticClass:"resultStyle"},[e._v("JSON正则校验:  "+e._s(e.result.checkResponseData)),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.result.checkResponseData,expression:"!result.checkResponseData"}]},[e._v("无")])]),e._v(" "),s("div",{staticClass:"resultStyle"},[e._v("JSON数值校验:  "+e._s(e.result.checkResponseNumber)),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.result.checkResponseNumber,expression:"!result.checkResponseNumber"}]},[e._v("无")])]),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"padding-bottom":"10px"}},[e._v("JSON智能相似度校验:  "+e._s(e.result.checkResponseSimilarity)),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.result.checkResponseSimilarity,expression:"!result.checkResponseSimilarity"}]},[e._v("无")])]),e._v(" "),s("div",{staticClass:"lin"}),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"font-size":"25px"}},[e._v("实际结果")]),e._v(" "),s("div",{staticClass:"resultStyle"},[e._v("HTTP状态码:  "+e._s(e.result.responseHttpStatusCode))]),e._v(" "),s("div",{staticClass:"resultStyle"},[e._v("实际返回内容:")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.result.responseData,expression:"result.responseData"}],staticClass:"resultStyle hljs",staticStyle:{overflow:"auto","overflow-x":"hidden",border:"1px solid #e6e6e6",padding:"10px",width:"90%","word-break":"break-all","line-height":"25px"}},[s("pre",[e._v(e._s(e.result.responseData))])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.result.responseData,expression:"!result.responseData"}],staticClass:"resultStyle",staticStyle:{overflow:"auto","overflow-x":"hidden",border:"1px solid #e6e6e6",padding:"10px",width:"90%","word-break":"break-all","line-height":"25px","text-align":"center"}},[e._v("无返回内容")]),e._v(" "),s("div",{staticClass:"resultStyle",staticStyle:{"font-size":"25px"}},[e._v("测试总结")]),e._v(" "),e._l(e.result.testConclusion,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.result.testConclusion,expression:"result.testConclusion"}],staticClass:"resultStyle",staticStyle:{overflow:"auto","overflow-x":"hidden",border:"1px solid #e6e6e6",padding:"10px",width:"90%","word-break":"break-all","line-height":"25px"}},[e._v(e._s(t))])}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.result.testConclusion,expression:"!result.testConclusion"}],staticClass:"resultStyle",staticStyle:{overflow:"auto","overflow-x":"hidden",border:"1px solid #e6e6e6",padding:"10px",width:"90%","word-break":"break-all","line-height":"25px","text-align":"center"}},[e._v("无测试结论")])],2)]),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"js-download-doc",attrs:{href:e.downloadLink,download:e.downloadName}})],1)},staticRenderFns:[]};var xe=a("C7Lr")(we,_e,!1,function(e){a("DgYY")},"data-v-a8e834ae",null).exports,Ce=a("hRKE"),Se=a.n(Ce),$e={data:function(){var e=this,t=function(t,a,s){if(""!==a&&null!==a){try{a=a.replace(/'/g,'"'),a=JSON.parse(a)}catch(e){}"object"!==(void 0===a?"undefined":Se()(a))?(s(new Error("参数格式不正确!")),e.$message.warning({message:"参数格式不正确!",center:!0})):s()}else s()};return{request:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"}],Http:[{value:"HTTP",label:"HTTP"},{value:"HTTPS",label:"HTTPS"}],ParameterType:!0,radio:"form-data",header:[{value:"Accept",label:"Accept"},{value:"Accept-Charset",label:"Accept-Charset"},{value:"Accept-Encoding",label:"Accept-Encoding"},{value:"Accept-Language",label:"Accept-Language"},{value:"Accept-Ranges",label:"Accept-Ranges"},{value:"Authorization",label:"Authorization"},{value:"Cache-Control",label:"Cache-Control"},{value:"Connection",label:"Connection"},{value:"Cookie",label:"Cookie"},{value:"Content-Length",label:"Content-Length"},{value:"Content-Type",label:"Content-Type"},{value:"Content-MD5",label:"Content-MD5"},{value:"Date",label:"Date"},{value:"Expect",label:"Expect"},{value:"From",label:"From"},{value:"Host",label:"Host"},{value:"If-Match",label:"If-Match"},{value:"If-Modified-Since",label:"If-Modified-Since"},{value:"If-None-Match",label:"If-None-Match"},{value:"If-Range",label:"If-Range"},{value:"If-Unmodified-Since",label:"If-Unmodified-Since"},{value:"Max-Forwards",label:"Max-Forwards"},{value:"Origin",label:"Origin"},{value:"Pragma",label:"Pragma"},{value:"Proxy-Authorization",label:"Proxy-Authorization"},{value:"Range",label:"Range"},{value:"Referer",label:"Referer"},{value:"TE",label:"TE"},{value:"Upgrade",label:"Upgrade"},{value:"User-Agent",label:"User-Agent"},{value:"Via",label:"Via"},{value:"Warning",label:"Warning"}],headers:[],httpCode:[{value:"200",label:"200"},{value:"404",label:"404"},{value:"400",label:"400"},{value:"500",label:"500"},{value:"502",label:"502"},{value:"302",label:"302"}],radioType:"",result:!0,activeNames:["1","2","3","4"],id:"",searchApiVisible:!1,ApiList:[],ApiResponse:[],apiResponseLoading:!1,saveCorrelation:!1,showHttpCodeCheck:!1,showJsonCheck:!1,sels:[],interrelateObjects:"",request3:!0,form:{name:"",request4:"GET",Http4:"HTTP",addr:"",head:[{name:"",value:"",interrelate:0}],parameterRaw:"",setGlobalVars:[{name:"",query:[]}],parameter:[{name:"",value:"",interrelate:0},{name:"",value:"",interrelate:0}],parameterType:"",check:"noCheck",RegularParam:"",checkHttp:null,checkData:null},FormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],addr:[{required:!0,message:"请输入接口路由",trigger:"blur"}],parameterRaw:[{required:!1,message:"请输入名称",trigger:"blur"},{validator:t,trigger:"blur"}],checkData:[{required:!1,message:"请输入名称",trigger:"blur"},{validator:t,trigger:"blur"}]}}},methods:{checkRequest:function(){var e=this.form.request4;this.request3="GET"!==e&&"DELETE"!==e},handleCurrentChange:function(e){this.currentRow=e},selsChange:function(e){this.sels=e},handleCorrelation:function(e,t){},handleResponse:function(e){var t=this;this.ApiResponse=[],this.ApiList[e].response.forEach(function(e){t.ApiResponse.push(e)})},addInterrelateSubmit:function(){this.saveCorrelation=!0;try{this.interrelateObjects.value=this.currentRow.tier}catch(e){this.$message.warning({message:"未选中接口参数",center:!0})}this.interrelateObjects.interrelate=!0,this.saveCorrelation=!1,this.searchApiVisible=!1},addApi:function(){var e=this;this.$refs.form.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.listLoading=!0;var t=e,a={name:t.form.name,requestProtocol:t.form.Http4,requestMethod:t.form.request4,route:t.form.addr,headers:t.form.head,setGlobalVars:t.form.setGlobalVars,caseSuiteId:t.$route.params.case_suite_id};""!==t.form.parameterRaw&&(a.presendParams=t.form.parameterRaw),t.form.checkHttp&&(a.checkHttpCode=t.form.checkHttp),t.form.checkData&&(a.checkResponseData=t.form.checkData),"noCheck"===t.form.check&&(a.checkHttpCode=null,a.checkResponseData=null),me(t.$route.params.project_id,t.$route.params.case_suite_id,a,{}).then(function(e){var a=e.status,s=e.data;"ok"===a?(t.$router.push({name:"用例接口列表",params:{project_id:t.$route.params.project_id,case_suite_id:t.$route.params.case_suite_id}}),t.$message.success({message:"保存成功",center:!0})):t.$message.error({message:s,center:!0})})})})},addHead:function(){this.form.head.push({name:"",value:"",interrelate:0})},delHead:function(e){this.form.head.splice(e,1),0===this.form.head.length&&this.form.head.push({name:"",value:"",interrelate:0})},addGlobalVars:function(){this.form.setGlobalVars.push({name:"",query:[]})},delGlobalVars:function(e){this.form.setGlobalVars.splice(e,1),0===this.form.setGlobalVars.length&&this.form.setGlobalVars.push({name:"",query:[]})},addParameter:function(){this.form.parameter.push({name:"",value:"",interrelate:0})},delParameter:function(e){this.form.parameter.splice(e,1),0===this.form.parameter.length&&this.form.parameter.push({name:"",value:"",interrelate:0})},changeParameterType:function(){"form-data"===this.radio?this.ParameterType=!0:this.ParameterType=!1},handleChange:function(e){}},watch:{radio:function(){this.changeParameterType()},form:{handler:function(e,t){"noCheck"===e.check?(this.showHttpCodeCheck=!1,this.showJsonCheck=!1):"onlyCheckHttpStatusCode"===e.check?(this.showHttpCodeCheck=!0,this.showJsonCheck=!1):"onlyCheckJson"===e.check&&(this.showHttpCodeCheck=!1,this.showJsonCheck=!0)},deep:!0}},mounted:function(){}},Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"用例接口列表",params:{project_id:this.$route.params.project_id,case_id:this.$route.params.case_id}}}},[a("el-button",{staticClass:"return-list"},[a("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"}}),e._v("返回列表")])],1),e._v(" "),a("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"用例接口列表",params:{project_id:this.$route.params.project_id,case_id:this.$route.params.case_id}}}},[a("el-button",{staticClass:"return-list",staticStyle:{float:"right"}},[e._v("取消")])],1),e._v(" "),a("el-button",{staticClass:"return-list",staticStyle:{float:"right","margin-right":"15px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.addApi(t)}}},[e._v("保存")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.FormRules}},[a("div",{staticStyle:{border:"1px solid #e6e6e6","margin-bottom":"10px",padding:"15px"}},[a("el-form-item",{attrs:{label:"用例名称:","label-width":"83px",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称","auto-complete":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"URL:","label-width":"83px"}},[a("el-select",{attrs:{placeholder:"请求方式"},on:{change:e.checkRequest},model:{value:e.form.request4,callback:function(t){e.$set(e.form,"request4",t)},expression:"form.request4"}},e._l(e.request,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"HTTP协议"},model:{value:e.form.Http4,callback:function(t){e.$set(e.form,"Http4",t)},expression:"form.Http4"}},e._l(e.Http,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{prop:"addr"}},[a("el-input",{attrs:{placeholder:"请输入接口路由","auto-complete":""},model:{value:e.form.addr,callback:function(t){e.$set(e.form,"addr","string"==typeof t?t.trim():t)},expression:"form.addr"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"请求头部",name:"1"}},[a("el-table",{attrs:{data:e.form.head,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"标签","min-width":"28%",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"head标签",filterable:""},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}},e._l(e.header,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-input",{staticClass:"selectInput",attrs:{value:t.row.name,placeholder:"请输入内容"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name","string"==typeof a?a.trim():a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"内容","min-width":"40%",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.value,placeholder:"请输入内容"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value","string"==typeof a?a.trim():a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"7%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:function(a){return e.delHead(t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.form.head.length-1?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addHead}}):e._e()]}}])})],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"请求参数",name:"2"}},[a("div",{staticStyle:{margin:"5px"}},[a("el-row",{attrs:{span:24}},[e.request3?a("el-col",{attrs:{span:4}},[a("el-radio",{attrs:{label:"raw"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("源数据(raw)")])],1):e._e()],1)],1),e._v(" "),[a("el-form-item",{attrs:{label:"",prop:"parameterRaw"}},[a("el-input",{class:e.ParameterType?"parameter-b":"parameter-a",attrs:{type:"textarea",rows:5,placeholder:"请输入请求参数"},model:{value:e.form.parameterRaw,callback:function(t){e.$set(e.form,"parameterRaw","string"==typeof t?t.trim():t)},expression:"form.parameterRaw"}})],1)]],2),e._v(" "),a("el-dialog",{attrs:{title:"关联",visible:e.searchApiVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.searchApiVisible=t}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{height:"400px","line-height":"100px",overflow:"auto","overflow-x":"hidden",border:"1px solid #e6e6e6"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","active-text-color":"rgb(32, 160, 255)","unique-opened":!0}},e._l(e.ApiList,function(t,s){return a("el-menu-item",{key:t.id,attrs:{index:s+""},nativeOn:{click:function(t){return e.handleResponse(s)}}},[e._v(e._s(t.name))])}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticStyle:{height:"400px","line-height":"100px",overflow:"auto","overflow-x":"hidden"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.apiResponseLoading,expression:"apiResponseLoading"}],staticStyle:{width:"100%"},attrs:{data:e.ApiResponse,"highlight-current-row":"","show-header":!1,height:"400","max-height":"400"},on:{"current-change":e.handleCurrentChange,"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"100%",sortable:""}})],1)],1)])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.searchApiVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.saveCorrelation},nativeOn:{click:function(t){return e.addInterrelateSubmit(t)}}},[e._v("保存")])],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"返回结果设置全局变量",name:"3"}},[a("el-table",{attrs:{data:e.form.setGlobalVars,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"变量名","min-width":"28%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.name,placeholder:"请输入变量名"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name","string"==typeof a?a.trim():a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"query",label:"变量查询语句","min-width":"40%",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{multiple:"",filterable:"","default-first-option":"","allow-create":"",placeholder:"请输入变量查询语句"},model:{value:t.row.query,callback:function(a){e.$set(t.row,"query","string"==typeof a?a.trim():a)},expression:"scope.row.query"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"7%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:function(a){return e.delGlobalVars(t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.form.setGlobalVars.length-1?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addGlobalVars}}):e._e()]}}])})],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"测试结果校验",name:"4"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-radio-group",{model:{value:e.form.check,callback:function(t){e.$set(e.form,"check",t)},expression:"form.check"}},[a("el-radio-button",{attrs:{label:"noCheck"}},[a("div",[e._v("不校验")])]),e._v(" "),a("el-radio-button",{attrs:{label:"onlyCheckHttpStatusCode"}},[a("div",[e._v("校验http状态")])]),e._v(" "),a("el-radio-button",{attrs:{label:"onlyCheckJson"}},[a("div",[e._v("JSON校验")])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showHttpCodeCheck,expression:"showHttpCodeCheck"}]},[a("el-select",{attrs:{placeholder:"HTTP状态"},model:{value:e.form.checkHttp,callback:function(t){e.$set(e.form,"checkHttp",t)},expression:"form.checkHttp"}},e._l(e.httpCode,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showJsonCheck,expression:"showJsonCheck"}]},[a("el-form-item",{attrs:{label:"",prop:"checkData"}},[a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"textarea",rows:8,placeholder:"请输入JSON校验内容(若需要判断返回值中status值为ok则输入:{'status': 'ok'})"},model:{value:e.form.checkData,callback:function(t){e.$set(e.form,"checkData","string"==typeof t?t.trim():t)},expression:"form.checkData"}})],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]};a("C7Lr")($e,Fe,!1,function(e){a("J8Bz"),a("+J/z")},"data-v-64cc75b7",null).exports;var Ie={data:function(){var e=this;return{request:[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"OPTIONS",value:"OPTIONS"},{label:"PATCH",value:"PATCH"},{label:"HEAD",value:"HEAD"}],Http:[{value:"HTTP",label:"HTTP"},{value:"HTTPS",label:"HTTPS"}],ParameterType:!0,radio:"raw",header:[{value:"Accept",label:"Accept"},{value:"Accept-Charset",label:"Accept-Charset"},{value:"Accept-Encoding",label:"Accept-Encoding"},{value:"Accept-Language",label:"Accept-Language"},{value:"Accept-Ranges",label:"Accept-Ranges"},{value:"Authorization",label:"Authorization"},{value:"Cache-Control",label:"Cache-Control"},{value:"Connection",label:"Connection"},{value:"Cookie",label:"Cookie"},{value:"Content-Length",label:"Content-Length"},{value:"Content-Type",label:"Content-Type"},{value:"Content-MD5",label:"Content-MD5"},{value:"Date",label:"Date"},{value:"Expect",label:"Expect"},{value:"From",label:"From"},{value:"Host",label:"Host"},{value:"If-Match",label:"If-Match"},{value:"If-Modified-Since",label:"If-Modified-Since"},{value:"If-None-Match",label:"If-None-Match"},{value:"If-Range",label:"If-Range"},{value:"If-Unmodified-Since",label:"If-Unmodified-Since"},{value:"Max-Forwards",label:"Max-Forwards"},{value:"Origin",label:"Origin"},{value:"Pragma",label:"Pragma"},{value:"Proxy-Authorization",label:"Proxy-Authorization"},{value:"Range",label:"Range"},{value:"Referer",label:"Referer"},{value:"TE",label:"TE"},{value:"Upgrade",label:"Upgrade"},{value:"User-Agent",label:"User-Agent"},{value:"Via",label:"Via"},{value:"Warning",label:"Warning"}],headers:[],httpCode:[{value:"200",label:"200"},{value:"302",label:"302"},{value:"400",label:"400"},{value:"401",label:"401"},{value:"404",label:"404"},{value:"500",label:"500"},{value:"502",label:"502"},{value:"504",label:"504"}],operator:[{value:"+",label:"加上"},{value:"-",label:"减去"},{value:"*",label:"乘以"},{value:"/",label:"除以"}],judgeCharacter:[{value:"<",label:"小于"},{value:"<=",label:"小于等于"},{value:">",label:"大于"},{value:">=",label:"大于等于"},{value:"==",label:"等于"}],radioType:"",result:!0,activeNames:["1","2","3","4","5","6"],id:"",ApiList:[],ApiResponse:[],apiResponseLoading:!1,saveCorrelation:!1,showHttpCodeCheck:!1,showResponseTimeCheck:!1,showJsonRegexCheck:!1,showNumberCheck:!1,showSimilarityCheck:!1,sels:[],request3:!0,form:{name:"",request4:"GET",Http4:"HTTP",addr:"",domain:"",description:"",isClearCookie:!1,setGlobalVars:[{name:"",query:[]}],checkRegex:[{regex:"",query:[]}],checkNumber:[{expressions:{firstArg:"",operator:"",secondArg:"",judgeCharacter:"",expectResult:""}}],checkSimilarity:[{baseText:"",compairedText:"",targetSimilarity:null}],head:[{name:"",value:""}],parameterRaw:"",parameter:[{name:"",value:""},{name:"",value:""}],parameterType:"",check:"checkSimilarity",RegularParam:"",checkHttp:"",checkResponseTime:null},FormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],addr:[{required:!0,message:"请输入接口路由",trigger:"blur"},{validator:function(t,a,s){""!==a&&null!==a?0!=!a.indexOf("/")?s():(s(new Error("请输入路由(如: /chat)")),e.$message.warning({message:"路由格式不正确!",center:!0})):s()},trigger:"blur"}],parameterRaw:[{required:!1,message:"请输入名称",trigger:"blur"},{validator:function(t,a,s){if(""!==a&&null!==a){a=a.replace(/'/g,'"');try{a=JSON.parse(a),s()}catch(t){s(new Error("参数格式不正确!")),e.$message.warning({message:"参数格式不正确!",center:!0})}}else s()},trigger:"blur"}],checkRegex:[{required:!1,message:"请输入名称",trigger:"blur"}]}}},methods:{checkRequest:function(){var e=this.form.request4;this.request3="GET"!==e&&"DELETE"!==e},handleCurrentChange:function(e){this.currentRow=e},selsChange:function(e){this.sels=e},handleResponse:function(e){var t=this;this.ApiResponse=[],this.ApiList[e].response.forEach(function(e){t.ApiResponse.push(e)})},updateApi:function(){var e=this;this.$refs.form.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.form.setGlobalVars.forEach(function(e){e.query.forEach(function(t,a){e.query[a]=t.replace(/\([0-9]+\)/,"")})}),a.form.checkRegex.forEach(function(e){e.query.forEach(function(t,a){e.query[a]=t.replace(/\([0-9]+\)/,"")})});var e={name:a.form.name,requestProtocol:a.form.Http4,requestMethod:a.form.request4,route:a.form.addr,domain:a.form.domain,description:a.form.description,headers:a.form.head,isClearCookie:a.form.isClearCookie,setGlobalVars:a.form.setGlobalVars,checkResponseData:a.form.checkRegex,checkResponseNumber:a.form.checkNumber,checkResponseSimilarity:a.form.checkSimilarity,presendParams:a.form.parameterRaw,lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};e.checkHttpCode=a.form.checkHttp,e.checkResponseTime=parseFloat(a.form.checkResponseTime),"noCheck"===a.form.check&&(e.checkHttpCode=null,e.checkResponseTime=null,e.checkResponseData=null,e.checkResponseNumber=null,e.checkResponseSimilarity=null);pe(a.$route.params.project_id,a.$route.params.case_suite_id,a.$route.params.case_id,e,{}).then(function(e){var t=e.status,s=e.data;"ok"===t?(a.$router.push({name:"用例接口列表",params:{project_id:a.$route.params.project_id,case_suite_id:a.$route.params.case_suite_id}}),a.$message({message:"修改成功",center:!0,type:"success"})):a.$message.error({message:s,center:!0})})})}})},addHead:function(){this.form.head.push({name:"",value:""})},delHead:function(e){this.form.head.splice(e,1),0===this.form.head.length&&this.form.head.push({name:"",value:""})},addGlobalVars:function(){this.form.setGlobalVars.push({name:"",query:[]})},delGlobalVars:function(e){this.form.setGlobalVars.splice(e,1),0===this.form.setGlobalVars.length&&this.form.setGlobalVars.push({name:"",query:[]})},addCheckRegex:function(){this.form.checkRegex.push({regex:"",query:[]})},delCheckRegex:function(e){this.form.checkRegex.splice(e,1),0===this.form.checkRegex.length&&this.form.checkRegex.push({regex:"",query:[]})},addCheckNumber:function(){this.form.checkNumber.push({expressions:{firstArg:"",operator:"",secondArg:"",judgeCharacter:"",expectResult:""}})},delCheckNumber:function(e){this.form.checkNumber.splice(e,1),0===this.form.checkNumber.length&&this.form.checkNumber.push({expressions:{firstArg:"",operator:"",secondArg:"",judgeCharacter:"",expectResult:""}})},addCheckSimilarity:function(){this.form.checkSimilarity.push({baseText:"",compairedText:"",targetSimilarity:null})},delCheckSimilarity:function(e){this.form.checkSimilarity.splice(e,1),0===this.form.checkSimilarity.length&&this.form.checkSimilarity.push({baseText:"",compairedText:"",targetSimilarity:null})},addParameter:function(){this.form.parameter.push({name:"",value:""})},delParameter:function(e){this.form.parameter.splice(e,1),0===this.form.parameter.length&&this.form.parameter.push({name:"",value:""})},changeParameterType:function(){"form-data"===this.radio?this.ParameterType=!0:this.ParameterType=!1},handleChange:function(e){},getCaseApiInfo:function(){var e=this,t=this;(function(e,t,a,s){return I({url:"/api/project/"+e+"/caseSuiteList/"+t+"/caseList/"+a,method:"GET",headers:s,params:null})})(t.$route.params.project_id,t.$route.params.case_suite_id,t.$route.params.case_id,{}).then(function(a){var s=a.status,r=a.data;if("ok"===s){t.form.name=r.name,t.form.request4=r.requestMethod,t.form.Http4=r.requestProtocol,t.form.addr=r.route,t.form.head=r.headers,t.form.domain=r.domain,t.form.isClearCookie=r.isClearCookie,t.form.description=r.description,r.setGlobalVars.forEach(function(t){t.query=e.addSuffix(t.query)}),t.form.setGlobalVars=r.setGlobalVars;try{t.form.parameterRaw=y()(r.presendParams),t.form.parameterRaw=t.form.parameterRaw.replace(/'/g,'"').replace(/None/g,"null").replace(/True/g,"true").replace(/False/g,"false"),"{}"===t.form.parameterRaw&&(t.form.parameterRaw="")}catch(e){t.$message.error({message:"获取请求参数出现异常！"+e,center:!0})}t.form.checkHttp=r.checkHttpCode,t.form.checkResponseTime=r.checkResponseTime,null===r.checkResponseData||void 0===r.checkResponseData?t.form.checkRegex=[{regex:"",query:[]}]:(r.checkResponseData.forEach(function(t){t.query=e.addSuffix(t.query)}),t.form.checkRegex=r.checkResponseData),null===r.checkResponseNumber||void 0===r.checkResponseNumber?t.form.checkNumber=[{expressions:{firstArg:"",operator:"",secondArg:"",judgeCharacter:"",expectResult:""}}]:t.form.checkNumber=r.checkResponseNumber,null===r.checkResponseSimilarity||void 0===r.checkResponseSimilarity?t.form.checkSimilarity=[{baseText:"",compairedText:"",targetSimilarity:null}]:t.form.checkSimilarity=r.checkResponseSimilarity}else t.$message.error({message:r,center:!0})}).catch(function(e){t.$message.error({message:"接口用例详情获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},addSuffix:function(e){return e.constructor===Array&&e.length>0&&e.forEach(function(t,a){var s=t.search(/\([0-9]+\)/),r="("+(a+1).toString()+")";e[a]=-1===s?t+r:t.substring(0,s)+r}),e}},watch:{radio:function(){this.changeParameterType()},form:{handler:function(e,t){"noCheck"===e.check?(this.showResponseTimeCheck=!1,this.showHttpCodeCheck=!1,this.showJsonRegexCheck=!1,this.showNumberCheck=!1,this.showSimilarityCheck=!1):"checkHttpStatusCode"===e.check?(this.showHttpCodeCheck=!0,this.showJsonRegexCheck=!1,this.showNumberCheck=!1,this.showSimilarityCheck=!1,this.showResponseTimeCheck=!1):"checkJsonRegex"===e.check?(this.showHttpCodeCheck=!1,this.showJsonRegexCheck=!0,this.showNumberCheck=!1,this.showSimilarityCheck=!1,this.showResponseTimeCheck=!1):"checkNumber"===e.check?(this.showHttpCodeCheck=!1,this.showJsonRegexCheck=!1,this.showNumberCheck=!0,this.showSimilarityCheck=!1,this.showResponseTimeCheck=!1):"checkSimilarity"===e.check?(this.showHttpCodeCheck=!1,this.showJsonRegexCheck=!1,this.showNumberCheck=!1,this.showSimilarityCheck=!0,this.showResponseTimeCheck=!1):"checkResponseTime"===e.check&&(this.showHttpCodeCheck=!1,this.showJsonRegexCheck=!1,this.showNumberCheck=!1,this.showSimilarityCheck=!1,this.showResponseTimeCheck=!0)},deep:!0}},mounted:function(){this.getCaseApiInfo()}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"toolbar"},[a("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"用例接口列表",params:{project_id:this.$route.params.project_id,case_id:this.$route.params.case_id}}}},[a("el-button",{staticClass:"return-list"},[a("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"}}),e._v("返回列表")])],1),e._v(" "),a("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"用例接口列表",params:{project_id:this.$route.params.project_id,case_id:this.$route.params.case_id}}}},[a("el-button",{staticClass:"el-icon-close",staticStyle:{float:"right","margin-right":"35px"},attrs:{round:""}},[e._v(" 取消")])],1),e._v(" "),a("el-button",{staticClass:"return-list el-icon-check",staticStyle:{float:"right","margin-right":"15px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.updateApi(t)}}},[e._v(" 保存")])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.FormRules}},[a("div",{staticStyle:{border:"1px solid #e6e6e6","margin-bottom":"10px",padding:"15px"}},[a("el-form-item",{attrs:{label:"接口名称:","label-width":"83px",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称","auto-complete":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"URL:","label-width":"83px"}},[a("el-select",{attrs:{placeholder:"请求方式"},on:{change:e.checkRequest},model:{value:e.form.request4,callback:function(t){e.$set(e.form,"request4",t)},expression:"form.request4"}},e._l(e.request,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"HTTP协议"},model:{value:e.form.Http4,callback:function(t){e.$set(e.form,"Http4",t)},expression:"form.Http4"}},e._l(e.Http,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"domain"}},[a("el-input",{attrs:{placeholder:"请输入访问域名(优先级最高)","auto-complete":""},model:{value:e.form.domain,callback:function(t){e.$set(e.form,"domain","string"==typeof t?t.trim():t)},expression:"form.domain"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"addr"}},[a("el-input",{attrs:{placeholder:"请输入接口路由","auto-complete":""},model:{value:e.form.addr,callback:function(t){e.$set(e.form,"addr","string"==typeof t?t.trim():t)},expression:"form.addr"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{float:"right"},attrs:{span:3}},[a("el-checkbox",{attrs:{label:"请求前是否清除Cookie"},model:{value:e.form.isClearCookie,callback:function(t){e.$set(e.form,"isClearCookie","string"==typeof t?t.trim():t)},expression:"form.isClearCookie"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-form-item",{attrs:{prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入用例描述","auto-complete":""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description","string"==typeof t?t.trim():t)},expression:"form.description"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"请求头部",name:"1"}},[a("el-table",{attrs:{data:e.form.head,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"标签","min-width":"28%",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入/选择标签",clearable:"",filterable:"","allow-create":"","default-first-option":""},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name","string"==typeof a?a.trim():a)},expression:"scope.row.name"}},e._l(e.header,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"内容","min-width":"40%",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.value,placeholder:"请输入内容"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value","string"==typeof a?a.trim():a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"7%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:function(a){return e.delHead(t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.form.head.length-1?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addHead}}):e._e()]}}])})],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"请求参数",name:"2"}},[a("div",{staticStyle:{margin:"5px"}},[a("el-row",{attrs:{span:24}},[e.request3?a("el-col",{attrs:{span:4}},[a("el-radio",{attrs:{label:"raw"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("源数据(raw)")])],1):e._e()],1)],1),e._v(" "),[a("el-form-item",{attrs:{label:"",prop:"parameterRaw"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入参数内容({'username': 'test'})"},model:{value:e.form.parameterRaw,callback:function(t){e.$set(e.form,"parameterRaw","string"==typeof t?t.trim():t)},expression:"form.parameterRaw"}})],1)]],2),e._v(" "),a("el-collapse-item",{attrs:{title:"返回结果设置全局变量",name:"3"}},[a("el-table",{attrs:{data:e.form.setGlobalVars,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"变量名","min-width":"28%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.name,placeholder:"请输入变量名"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name","string"==typeof a?a.trim():a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"query",label:"变量查询语句","min-width":"40%",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"60%"},attrs:{multiple:"",clearable:"",filterable:"","default-first-option":"","allow-create":"",placeholder:"请输入变量查询语句(不输入则返回整个JSON字符串)"},on:{change:function(a){return e.addSuffix(t.row.query)}},model:{value:t.row.query,callback:function(a){e.$set(t.row,"query","string"==typeof a?a.trim():a)},expression:"scope.row.query"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"7%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:function(a){return e.delGlobalVars(t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.form.setGlobalVars.length-1?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addGlobalVars}}):e._e()]}}])})],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"测试结果校验",name:"3"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-radio-group",{model:{value:e.form.check,callback:function(t){e.$set(e.form,"check",t)},expression:"form.check"}},[a("el-radio-button",{attrs:{label:"noCheck"}},[a("div",[e._v("不校验")])]),e._v(" "),a("el-radio-button",{attrs:{label:"checkHttpStatusCode"}},[a("div",[e._v("HTTP状态校验")])]),e._v(" "),a("el-radio-button",{attrs:{label:"checkResponseTime"}},[a("div",[e._v("接口耗时校验")])]),e._v(" "),a("el-radio-button",{attrs:{label:"checkJsonRegex"}},[a("div",[e._v("JSON正则校验")])]),e._v(" "),a("el-radio-button",{attrs:{label:"checkNumber"}},[a("div",[e._v("数值校验")])]),e._v(" "),a("el-radio-button",{attrs:{label:"checkSimilarity"}},[a("div",[e._v("智能相似度校验")])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showHttpCodeCheck,expression:"showHttpCodeCheck"}]},[a("el-select",{attrs:{clearable:"",placeholder:"HTTP状态"},model:{value:e.form.checkHttp,callback:function(t){e.$set(e.form,"checkHttp",t)},expression:"form.checkHttp"}},e._l(e.httpCode,function(e,t){return a("el-option",{key:t+"",attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showResponseTimeCheck,expression:"showResponseTimeCheck"}]},[a("el-input",{staticStyle:{"max-width":"20%"},attrs:{placeholder:"接口期望耗时/s（以内）",type:"number"},model:{value:e.form.checkResponseTime,callback:function(t){e.$set(e.form,"checkResponseTime",t)},expression:"form.checkResponseTime"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showJsonRegexCheck,expression:"showJsonRegexCheck"}]},[a("el-collapse-item",{attrs:{title:"JSON正则校验",name:"4"}},[a("el-table",{attrs:{data:e.form.checkRegex,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"regex",label:"正则语句","min-width":"28%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入正则语句"},model:{value:t.row.regex,callback:function(a){e.$set(t.row,"regex","string"==typeof a?a.trim():a)},expression:"scope.row.regex"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"query",label:"变量查询语句","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"60%"},attrs:{multiple:"",filterable:"",clearable:"","default-first-option":"","allow-create":"",placeholder:"请输入变量查询语句(不输入则返回整个JSON字符串)"},on:{change:function(a){return e.addSuffix(t.row.query)}},model:{value:t.row.query,callback:function(a){e.$set(t.row,"query","string"==typeof a?a.trim():a)},expression:"scope.row.query"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"7%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:function(a){return e.delCheckRegex(t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.form.checkRegex.length-1?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addCheckRegex}}):e._e()]}}])})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNumberCheck,expression:"showNumberCheck"}]},[a("el-collapse-item",{attrs:{title:"数值校验",name:"5"}},[a("el-table",{attrs:{data:e.form.checkNumber,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"数值一","min-width":"3%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入数值一"},model:{value:t.row.expressions.firstArg,callback:function(a){e.$set(t.row.expressions,"firstArg","string"==typeof a?a.trim():a)},expression:"scope.row.expressions.firstArg"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"运算","min-width":"3%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",placeholder:"请选择运算"},model:{value:t.row.expressions.operator,callback:function(a){e.$set(t.row.expressions,"operator","string"==typeof a?a.trim():a)},expression:"scope.row.expressions.operator"}},e._l(e.operator,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"数值二","min-width":"3%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入数值二"},model:{value:t.row.expressions.secondArg,callback:function(a){e.$set(t.row.expressions,"secondArg","string"==typeof a?a.trim():a)},expression:"scope.row.expressions.secondArg"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"判断","min-width":"3%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",placeholder:"请选择判断"},model:{value:t.row.expressions.judgeCharacter,callback:function(a){e.$set(t.row.expressions,"judgeCharacter","string"==typeof a?a.trim():a)},expression:"scope.row.expressions.judgeCharacter"}},e._l(e.judgeCharacter,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"期待结果","min-width":"3%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入期待结果"},model:{value:t.row.expressions.expectResult,callback:function(a){e.$set(t.row.expressions,"expectResult","string"==typeof a?a.trim():a)},expression:"scope.row.expressions.expectResult"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"1%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:function(a){return e.delCheckNumber(t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.form.checkNumber.length-1?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addCheckNumber}}):e._e()]}}])})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSimilarityCheck,expression:"showSimilarityCheck"}]},[a("el-collapse-item",{attrs:{title:"智能相似度校验",name:"6"}},[a("el-table",{attrs:{data:e.form.checkSimilarity,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"文本一","min-width":"28%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入文本一"},model:{value:t.row.baseText,callback:function(a){e.$set(t.row,"baseText","string"==typeof a?a.trim():a)},expression:"scope.row.baseText"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"文本二","min-width":"28%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入文本二"},model:{value:t.row.compairedText,callback:function(a){e.$set(t.row,"compairedText","string"==typeof a?a.trim():a)},expression:"scope.row.compairedText"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"目标相似度","min-width":"28%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"number",placeholder:"请输入目标相似度(0～1)"},model:{value:t.row.targetSimilarity,callback:function(a){e.$set(t.row,"targetSimilarity","string"==typeof a?a.trim():a)},expression:"scope.row.targetSimilarity"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"7%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:function(a){return e.delCheckSimilarity(t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.form.checkSimilarity.length-1?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini"},on:{click:e.addCheckSimilarity}}):e._e()]}}])})],1)],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Le=a("C7Lr")(Ie,Te,!1,function(e){a("kXBd"),a("yUwt")},"data-v-7be0b753",null).exports,je={data:function(){var e=this,t=function(t,a,s){return e.isValidIP(a)?s():s(new Error("IP地址格式错误"))};return{filters:{name:""},project:[],size:10,skip:0,sortBy:"createAt",order:"descending",pageNum:1,totalNum:0,listLoading:!1,statusChangeLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],host:[{required:!0,message:"请输入Host",trigger:"blur"},{validator:t,trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},editForm:{name:"",host:"",description:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],host:[{required:!0,message:"请输入Host",trigger:"blur"},{validator:t,trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},addForm:{name:"",host:"",description:""}}},methods:{isValidIP:function(e){return new RegExp("^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,5})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$").test(e)},getGlobalHost:function(){this.listLoading=!0;var e=this,t={size:e.size,skip:e.skip,sortBy:e.sortBy,order:e.order,projectId:e.$route.params.project_id};""!==e.filters.name.trim()&&(t.name=e.filters.name.trim());te(this.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;e.listLoading=!1,"ok"===a?(e.totalNum=s.totalNum,e.project=s.rows):e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"Host列表获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},handleSizeChange:function(e){var t=this;t.size=e,t.listLoading=!0;t.size,t.skip,t.sortBy,t.order,t.$route.params.project_id;te(this.$route.params.project_id,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"Host列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleCurrentChange:function(e){var t=this;t.skip=(e-1)*t.size,t.listLoading=!0;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};te(this.$route.params.project_id,a,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"Host列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},sortChange:function(e){var t=this;t.listLoading=!0,t.sortBy=e.prop,t.order=e.order;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};te(this.$route.params.project_id,a,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"Host列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e=a;ae(a.$route.params.project_id,t._id,{isDeleted:!0},{"Content-Type":"application/json"}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.$message({message:"删除成功",center:!0,type:"success"}):e.$message.error({message:s,center:!0}),e.getGlobalHost()})})},handleChangeStatus:function(e,t){var a=this;a.statusChangeLoading=!0;var s={status:!t.status};ae(this.$route.params.project_id,t._id,s,{"Content-Type":"application/json"}).then(function(e){var s=e.status,r=e.data;a.statusChangeLoading=!1,"ok"===s?(a.$message({message:"状态变更成功",center:!0,type:"success"}),t.status=!t.status):a.$message.error({message:r,center:!0}),a.getGlobalHost()}).catch(function(){a.$message.error({message:"Host状态更新失败,请稍后重试哦",center:!0}),a.statusChangeLoading=!1,a.getGlobalHost()})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},this.editForm,t)},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){a&&e.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var a={project_id:e.$route.params.project_id,name:t.editForm.name,host:t.editForm.host,description:t.editForm.description,lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};ae(e.$route.params.project_id,t.editForm._id,a,{"Content-Type":"application/json"}).then(function(e){var a=e.status,s=e.data;t.editLoading=!1,"ok"===a?(t.$message({message:"修改成功",center:!0,type:"success"}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.getGlobalHost()):t.$message.error({message:s,center:!0})})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.addLoading=!0;var t={name:a.addForm.name,host:a.addForm.host,description:a.addForm.description,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};(function(e,t,a){return I({url:"/api/project/"+e+"/addHost",headers:a,method:"POST",data:t})})(e.$route.params.project_id,t,{"Content-Type":"application/json"}).then(function(e){var t=e.status,s=e.data;a.addLoading=!1,"ok"===t?(a.$message({message:"添加成功",center:!0,type:"success"}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getGlobalHost()):(a.$message.error({message:s,center:!0}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getGlobalHost())})})}})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.listLoading=!0;var s={project_id:Number(e.$route.params.project_id),ids:t},r={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};delHost(r,s).then(function(e){var t=e.msg,s=e.code;e.data;a.listLoading=!1,"999999"===s?a.$message({message:"删除成功",center:!0,type:"success"}):a.$message.error({message:t,center:!0}),a.getGlobalHost()})})},reportRowStyle:function(e){var t=e.row;e.rowIndex;return!0!==t.status?"background-color: #DDDDDD":""},ReportTableRow:function(e){e.row,e.rowIndex;return"reportTableRow"}},mounted:function(){this.getGlobalHost()}},Ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{margin:"35px"}},[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[s("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"接口测试"}}},[s("el-button",{staticClass:"return-list"},[s("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"},attrs:{"return-list":""}}),e._v(" 回首页")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"35px"}},[s("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(" 新增Host")])],1),e._v(" "),s("div",{staticStyle:{float:"right","margin-right":"95px"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getGlobalHost(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name","string"==typeof t?t.trim():t)},expression:"filters.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getGlobalHost}},[e._v(" 查询")])],1)],1)],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.project,"row-style":e.reportRowStyle,"row-class-name":e.ReportTableRow,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[s("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"30%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"host",label:"HOST","min-width":"30%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"35%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"createAt",label:"创建时间","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"creatorNickName",label:"创建者","min-width":"18%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdateTime",label:"最后更新时间","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdatorNickName",label:"最后更新人","min-width":"18%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"10%",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{directives:[{name:"show",rawName:"v-show",value:t.row.status,expression:"scope.row.status"}],attrs:{src:a("7shL")}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.row.status,expression:"!scope.row.status"}],attrs:{src:a("IT+J")}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"50%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small",loading:e.statusChangeLoading},on:{click:function(a){return e.handleChangeStatus(t.$index,t.row)}}},[e._v("\n                    "+e._s(!1===t.row.status?"启用":"禁用")+"\n                ")])]}}])})],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[s("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{staticStyle:{width:"60%",left:"20%"},attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[s("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入Host名称","auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name","string"==typeof t?t.trim():t)},expression:"editForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Host",prop:"host"}},[s("el-input",{attrs:{placeholder:"beta-xxx.test.com","auto-complete":"off"},model:{value:e.editForm.host,callback:function(t){e.$set(e.editForm,"host","string"==typeof t?t.trim():t)},expression:"editForm.host"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{placeholder:"请输入Host描述...",type:"textarea",rows:5},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description","string"==typeof t?t.trim():t)},expression:"editForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"60%",left:"20%"},attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入Host名称","auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Host",prop:"host"}},[s("el-input",{attrs:{placeholder:"beta-xxx.test.com","auto-complete":"off"},model:{value:e.addForm.host,callback:function(t){e.$set(e.addForm,"host","string"==typeof t?t.trim():t)},expression:"addForm.host"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{placeholder:"请输入Host描述...",type:"textarea",rows:5},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description","string"==typeof t?t.trim():t)},expression:"addForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var De=a("C7Lr")(je,Ne,!1,function(e){a("/jFS")},"data-v-304fbe1c",null).exports;var Re={data:function(){var e=this,t=function(t,a,s){return e.isValidMail(a)?s():s(new Error("邮箱地址格式错误"))};return{filters:{name:""},project:[],size:10,skip:0,sortBy:"createAt",order:"descending",pageNum:1,totalNum:0,listLoading:!1,statusChangeLoading:!1,testMailSenderLoading:!1,isMailSenderChecked:!1,sels:[],disableAddMails:!0,editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],mailAddress:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{validator:t,trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},editForm:{name:"",mailAddress:"",description:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],mailAddress:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{validator:t,trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},addForm:{name:"",mailAddress:"",description:""},ConfigFormVisible:!1,ConfigLoading:!1,ConfigFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"请输入授权码",trigger:"blur"}]},ConfigForm:{username:"",password:""}}},methods:{isValidMail:function(e){return new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$").test(e)},getGlobalMail:function(){this.listLoading=!0;var e=this,t={size:e.size,skip:e.skip,sortBy:e.sortBy,order:e.order,projectId:e.$route.params.project_id};""!==e.filters.name.trim()&&(t.name=e.filters.name.trim());se(this.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;e.listLoading=!1,"ok"===a?(e.totalNum=s.totalNum,e.project=s.rows):e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"邮箱列表获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},getMailSender:function(){this.listLoading=!0;var e=this,t={size:e.size,skip:e.skip,sortBy:e.sortBy,order:e.order,projectId:e.$route.params.project_id};(function(e,t,a){return I({url:"/api/project/"+e+"/mailSenderList",headers:a,params:t,method:"GET"})})(this.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;e.listLoading=!1,"ok"===a?s.rows.length>0&&(e.ConfigForm=s.rows[0],e.disableAddMails=!1):e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"发件人邮箱获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},testMailSender:function(){this.testMailSenderLoading=!0;var e=this;(function(e,t){return I({url:"/api/testEmailSender",method:"POST",headers:t,data:e})})({username:e.ConfigForm.username,password:e.ConfigForm.password},{}).then(function(t){var a=t.status,s=t.data;e.testMailSenderLoading=!1,"ok"===a?(e.$message.success({message:s,center:!0}),e.isMailSenderChecked=!0):e.$message.warning({message:s,center:!0})}).catch(function(t){e.$message.error({message:"发件人邮箱测试失败，请稍后刷新重试哦~",center:!0}),e.testMailSenderLoading=!1})},handleSizeChange:function(e){var t=this;t.size=e,t.listLoading=!0;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};se(this.$route.params.project_id,a,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"邮箱列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleCurrentChange:function(e){var t=this;t.skip=(e-1)*t.size,t.listLoading=!0;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};se(this.$route.params.project_id,a,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"邮箱列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},sortChange:function(e){var t=this;t.listLoading=!0,t.sortBy=e.prop,t.order=e.order;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};se(this.$route.params.project_id,a,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"邮箱列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e=a;re(a.$route.params.project_id,t._id,{isDeleted:!0},{"Content-Type":"application/json"}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.$message({message:"删除成功",center:!0,type:"success"}):e.$message.error({message:s,center:!0}),e.getGlobalMail()})})},handleChangeStatus:function(e,t){var a=this;a.statusChangeLoading=!0;var s={status:!t.status};re(this.$route.params.project_id,t._id,s,{"Content-Type":"application/json"}).then(function(e){var s=e.status,r=e.data;a.statusChangeLoading=!1,"ok"===s?(a.$message({message:"状态变更成功",center:!0,type:"success"}),t.status=!t.status):a.$message.error({message:r,center:!0}),a.getGlobalMail()}).catch(function(){a.$message.error({message:"接收邮箱状态更新失败,请稍后重试哦",center:!0}),a.statusChangeLoading=!1,a.getGlobalMail()})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},this.editForm,t)},handleAdd:function(){this.addFormVisible=!0},handleConfig:function(){this.isMailSenderChecked=!1,this.ConfigFormVisible=!0},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){a&&e.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var a={project_id:e.$route.params.project_id,name:t.editForm.name,mailAddress:t.editForm.mailAddress,description:t.editForm.description,lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};re(e.$route.params.project_id,t.editForm._id,a,{"Content-Type":"application/json"}).then(function(e){var a=e.status,s=e.data;t.editLoading=!1,"ok"===a?(t.$message({message:"修改成功",center:!0,type:"success"}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.getGlobalMail()):t.$message.error({message:s,center:!0})})})})},ConfigSubmit:function(){var e=this;this.$refs.ConfigForm.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.ConfigLoading=!0;var t={username:a.ConfigForm.username,password:a.ConfigForm.password,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};(function(e,t,a){return I({url:"/api/project/"+e+"/addMailSender",headers:a,method:"POST",data:t})})(e.$route.params.project_id,t,{"Content-Type":"application/json"}).then(function(e){var t=e.status,s=e.data;a.ConfigLoading=!1,"ok"===t?(a.$message({message:"配置成功",center:!0,type:"success"}),a.$refs.ConfigForm.resetFields(),a.ConfigFormVisible=!1,a.getMailSender()):(a.$message.error({message:s,center:!0}),a.$refs.ConfigForm.resetFields(),a.ConfigFormVisible=!1,a.getMailSender())})})}})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.addLoading=!0;var t={name:a.addForm.name,mailAddress:a.addForm.mailAddress,description:a.addForm.description,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};(function(e,t,a){return I({url:"/api/project/"+e+"/addMail",headers:a,method:"POST",data:t})})(e.$route.params.project_id,t,{"Content-Type":"application/json"}).then(function(e){var t=e.status,s=e.data;a.addLoading=!1,"ok"===t?(a.$message({message:"添加成功",center:!0,type:"success"}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getGlobalMail()):(a.$message.error({message:s,center:!0}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getGlobalMail())})})}})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.listLoading=!0;var s={project_id:Number(e.$route.params.project_id),ids:t},r={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};delMail(r,s).then(function(e){var t=e.msg,s=e.code;e.data;a.listLoading=!1,"999999"===s?a.$message({message:"删除成功",center:!0,type:"success"}):a.$message.error({message:t,center:!0}),a.getGlobalMail()})})},reportRowStyle:function(e){var t=e.row;e.rowIndex;return!0!==t.status?"background-color: #DDDDDD":""},ReportTableRow:function(e){e.row,e.rowIndex;return"reportTableRow"}},mounted:function(){this.getGlobalMail(),this.getMailSender()},watch:{ConfigForm:{handler:function(e,t){this.isMailSenderChecked=!1},deep:!0}}},ze={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{margin:"35px"}},[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[s("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"接口测试"}}},[s("el-button",{staticClass:"return-list"},[s("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"},attrs:{"return-list":""}}),e._v(" 回首页")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"35px"}},[s("el-button",{staticClass:"el-icon-message",attrs:{type:"primary"},on:{click:e.handleConfig}},[e._v(" 发件人配置")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"20px"}},[s("el-button",{staticClass:"el-icon-plus",attrs:{disabled:e.disableAddMails,type:"primary"},on:{click:e.handleAdd}},[e._v(" 新增接收邮箱")])],1),e._v(" "),s("div",{staticStyle:{float:"right","margin-right":"145px"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getGlobalMail(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name","string"==typeof t?t.trim():t)},expression:"filters.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getGlobalMail}},[e._v(" 查询")])],1)],1)],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.project,"row-style":e.reportRowStyle,"row-class-name":e.ReportTableRow,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[s("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"16%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"mailAddress",label:"邮箱地址","min-width":"28%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"27%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"createAt",label:"创建时间","min-width":"23%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"creatorNickName",label:"创建者","min-width":"18%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdateTime",label:"最后更新时间","min-width":"23%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdatorNickName",label:"最后更新人","min-width":"18%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"10%",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{directives:[{name:"show",rawName:"v-show",value:t.row.status,expression:"scope.row.status"}],attrs:{src:a("7shL")}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.row.status,expression:"!scope.row.status"}],attrs:{src:a("IT+J")}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"50%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small",loading:e.statusChangeLoading},on:{click:function(a){return e.handleChangeStatus(t.$index,t.row)}}},[e._v("\n                    "+e._s(!1===t.row.status?"启用":"禁用")+"\n                ")])]}}])})],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[s("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{staticStyle:{width:"60%",left:"20%"},attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[s("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name","string"==typeof t?t.trim():t)},expression:"editForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱地址",prop:"mailAddress"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.mailAddress,callback:function(t){e.$set(e.editForm,"mailAddress","string"==typeof t?t.trim():t)},expression:"editForm.mailAddress"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description","string"==typeof t?t.trim():t)},expression:"editForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"60%",left:"20%"},attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱地址",prop:"mailAddress"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.mailAddress,callback:function(t){e.$set(e.addForm,"mailAddress","string"==typeof t?t.trim():t)},expression:"addForm.mailAddress"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description","string"==typeof t?t.trim():t)},expression:"addForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"60%",left:"20%"},attrs:{title:"发件人配置",visible:e.ConfigFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.ConfigFormVisible=t}}},[s("el-form",{ref:"ConfigForm",attrs:{inline:!0,model:e.ConfigForm,"label-width":"100px",rules:e.ConfigFormRules}},[s("el-form-item",{attrs:{label:"发件人邮箱",prop:"username"}},[s("el-input",{attrs:{placeholder:"目前仅支持 QQ 邮箱哦～","auto-complete":"off"},model:{value:e.ConfigForm.username,callback:function(t){e.$set(e.ConfigForm,"username","string"==typeof t?t.trim():t)},expression:"ConfigForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱授权码",prop:"password"}},[s("el-input",{attrs:{placeholder:"目前仅支持 QQ 邮箱哦～",type:"password","auto-complete":"off"},model:{value:e.ConfigForm.password,callback:function(t){e.$set(e.ConfigForm,"password","string"==typeof t?t.trim():t)},expression:"ConfigForm.password"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{disabled:e.isMailSenderChecked,type:"info",loading:e.testMailSenderLoading},nativeOn:{click:function(t){return e.testMailSender(t)}}},[e._v("请先验证")])],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.ConfigFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",disabled:!e.isMailSenderChecked,loading:e.ConfigLoading},nativeOn:{click:function(t){return e.ConfigSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Ae=a("C7Lr")(Re,ze,!1,function(e){a("KuYA")},"data-v-69cb9bed",null).exports,Pe={data:function(){var e=this,t=function(t,a,s){if(""!==a&&null!==a){a=a.replace(/'/g,'"');try{a=JSON.parse(a),s()}catch(t){s(new Error("参数格式不正确!")),e.$message.warning({message:"参数格式不正确!",center:!0})}}else s()};return{filters:{name:""},project:[],size:10,skip:0,sortBy:"createAt",order:"descending",pageNum:1,totalNum:0,listLoading:!1,statusChangeLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],dataMap:[{required:!0,message:"请输入数据字典",trigger:"blur"},{validator:t,trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},editForm:{name:"",dataMap:"",description:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],dataMap:[{required:!0,message:"请输入数据字典",trigger:"blur"},{validator:t,trigger:"blur"}],description:[{required:!1,message:"请输入描述",trigger:"blur"},{max:1024,message:"不能超过1024个字符",trigger:"blur"}]},addForm:{name:"",dataMap:"",description:""}}},methods:{getTestDataStorageList:function(){this.listLoading=!0;var e=this,t={size:e.size,skip:e.skip,sortBy:e.sortBy,order:e.order,projectId:e.$route.params.project_id};""!==e.filters.name.trim()&&(t.name=e.filters.name.trim());oe(this.$route.params.project_id,t,{}).then(function(t){var a=t.status,s=t.data;e.listLoading=!1,"ok"===a?(e.totalNum=s.totalNum,s.rows.forEach(function(e){e.dataMap=e.dataMap?y()(e.dataMap):"(空)"}),e.project=s.rows):e.$message.error({message:s,center:!0})}).catch(function(t){e.$message.error({message:"数据仓库列表获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},handleSizeChange:function(e){var t=this;t.size=e,t.listLoading=!0;t.size,t.skip,t.sortBy,t.order,t.$route.params.project_id;oe(this.$route.params.project_id,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,s.rows.forEach(function(e){e.dataMap=e.dataMap?y()(e.dataMap):"(空)"}),t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"数据仓库列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleCurrentChange:function(e){var t=this;t.skip=(e-1)*t.size,t.listLoading=!0;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};oe(this.$route.params.project_id,a,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,s.rows.forEach(function(e){e.dataMap=e.dataMap?y()(e.dataMap):"(空)"}),t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"数据仓库列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},sortChange:function(e){var t=this;t.listLoading=!0,t.sortBy=e.prop,t.order=e.order;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};oe(this.$route.params.project_id,a,{}).then(function(e){var a=e.status,s=e.data;t.listLoading=!1,"ok"===a?(t.totalNum=s.totalNum,s.rows.forEach(function(e){e.dataMap=e.dataMap?y()(e.dataMap):"(空)"}),t.project=s.rows):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"数据仓库列表获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e=a;ie(a.$route.params.project_id,t._id,{isDeleted:!0},{"Content-Type":"application/json"}).then(function(t){var a=t.status,s=t.data;"ok"===a?e.$message({message:"删除成功",center:!0,type:"success"}):e.$message.error({message:s,center:!0}),e.getTestDataStorageList()})})},handleChangeStatus:function(e,t){var a=this;a.statusChangeLoading=!0;var s={status:!t.status};ie(this.$route.params.project_id,t._id,s,{"Content-Type":"application/json"}).then(function(e){var s=e.status,r=e.data;a.statusChangeLoading=!1,"ok"===s?(a.$message({message:"状态变更成功",center:!0,type:"success"}),t.status=!t.status):a.$message.error({message:r,center:!0}),a.getTestDataStorageList()}).catch(function(){a.$message.error({message:"Host状态更新失败,请稍后重试哦",center:!0}),a.statusChangeLoading=!1,a.getTestDataStorageList()})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},this.editForm,t)},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){a&&e.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var a={project_id:e.$route.params.project_id,name:t.editForm.name,dataMap:t.editForm.dataMap,description:t.editForm.description,lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};ie(e.$route.params.project_id,t.editForm._id,a,{"Content-Type":"application/json"}).then(function(e){var a=e.status,s=e.data;t.editLoading=!1,"ok"===a?(t.$message({message:"修改成功",center:!0,type:"success"}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.getTestDataStorageList()):t.$message.error({message:s,center:!0})})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=e;e.$confirm("确认提交吗？","提示",{}).then(function(){a.addLoading=!0;var t={name:a.addForm.name,dataMap:a.addForm.dataMap,description:a.addForm.description,creatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户",lastUpdatorNickName:unescape(j("nickName").replace(/\\u/g,"%u"))||"未知用户"};(function(e,t,a){return I({url:"/api/project/"+e+"/addTestDataStorage",headers:a,method:"POST",data:t})})(e.$route.params.project_id,t,{"Content-Type":"application/json"}).then(function(e){var t=e.status,s=e.data;a.addLoading=!1,"ok"===t?(a.$message({message:"添加成功",center:!0,type:"success"}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getTestDataStorageList()):(a.$message.error({message:s,center:!0}),a.$refs.addForm.resetFields(),a.addFormVisible=!1,a.getTestDataStorageList())})})}})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}),a=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){a.listLoading=!0;var s={project_id:Number(e.$route.params.project_id),ids:t},r={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};delHost(r,s).then(function(e){var t=e.msg,s=e.code;e.data;a.listLoading=!1,"999999"===s?a.$message({message:"删除成功",center:!0,type:"success"}):a.$message.error({message:t,center:!0}),a.getTestDataStorageList()})})},reportRowStyle:function(e){var t=e.row;e.rowIndex;return!0!==t.status?"background-color: #DDDDDD":""},ReportTableRow:function(e){e.row,e.rowIndex;return"reportTableRow"}},mounted:function(){this.getTestDataStorageList()}},Me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{margin:"35px"}},[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[s("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"接口测试"}}},[s("el-button",{staticClass:"return-list"},[s("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"},attrs:{"return-list":""}}),e._v(" 回首页")])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-left":"35px"}},[s("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(" 新增数据字典")])],1),e._v(" "),s("div",{staticStyle:{float:"right","margin-right":"95px"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTestDataStorageList(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name","string"==typeof t?t.trim():t)},expression:"filters.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getTestDataStorageList}},[e._v(" 查询")])],1)],1)],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.project,"row-style":e.reportRowStyle,"row-class-name":e.ReportTableRow,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[s("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"30%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"dataMap",label:"数据字典","min-width":"30%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"35%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"createAt",label:"创建时间","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"creatorNickName",label:"创建者","min-width":"18%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdateTime",label:"最后更新时间","min-width":"25%",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),s("el-table-column",{attrs:{prop:"lastUpdatorNickName",label:"最后更新人","min-width":"18%",sortable:"custom"}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"10%",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{directives:[{name:"show",rawName:"v-show",value:t.row.status,expression:"scope.row.status"}],attrs:{src:a("7shL")}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.row.status,expression:"!scope.row.status"}],attrs:{src:a("IT+J")}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"50%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small",loading:e.statusChangeLoading},on:{click:function(a){return e.handleChangeStatus(t.$index,t.row)}}},[e._v("\n                    "+e._s(!1===t.row.status?"启用":"禁用")+"\n                ")])]}}])})],1),e._v(" "),s("el-col",{staticClass:"toolbar",attrs:{span:24}},[s("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{staticStyle:{width:"60%",left:"20%"},attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[s("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入名称","auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name","string"==typeof t?t.trim():t)},expression:"editForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"数据字典",prop:"dataMap"}},[s("el-input",{attrs:{placeholder:"请输入数据字典...(如 {'user_id': '123456'})",type:"textarea",rows:5},model:{value:e.editForm.dataMap,callback:function(t){e.$set(e.editForm,"dataMap","string"==typeof t?t.trim():t)},expression:"editForm.dataMap"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{placeholder:"请输入描述...",type:"textarea",rows:5},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description","string"==typeof t?t.trim():t)},expression:"editForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),s("el-dialog",{staticStyle:{width:"60%",left:"20%"},attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入名称","auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"==typeof t?t.trim():t)},expression:"addForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"数据字典",prop:"dataMap"}},[s("el-input",{attrs:{placeholder:"请输入数据字典...(如 {'user_id': '123456'})",type:"textarea",rows:5},model:{value:e.addForm.dataMap,callback:function(t){e.$set(e.addForm,"dataMap","string"==typeof t?t.trim():t)},expression:"addForm.dataMap"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"描述",prop:"description"}},[s("el-input",{attrs:{placeholder:"请输入描述...",type:"textarea",rows:5},model:{value:e.addForm.description,callback:function(t){e.$set(e.addForm,"description","string"==typeof t?t.trim():t)},expression:"addForm.description"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Ee=a("C7Lr")(Pe,Me,!1,function(e){a("ObR/")},"data-v-2ce3afe4",null).exports;function Oe(e,t,a){return I({url:"/api/project/"+e+"/reportsList",headers:a,params:t,method:"GET"})}function He(e,t,a){return I({url:"/api/project/"+e+"/reportsList/"+t+"/export",headers:a,responseType:"blob",method:"POST",data:null})}var Be={data:function(){return{downloadLink:"",downloadName:"",listLoading:!1,detailLoading:!1,exportLoading:!1,isReportDetailShow:!1,testReports:[],testReportDetail:[],sels:[],size:10,skip:0,sortBy:"createAt",order:"descending",pageNum:1,totalNum:0,filters:{_id:""}}},mounted:function(){this.getTestReports()},methods:{selsChange:function(e){this.sels=e},getTestReports:function(){var e=this;e.listLoading=!0;var t={size:e.size,skip:e.skip,sortBy:e.sortBy,order:e.order,projectId:e.$route.params.project_id};""!==e.filters._id.trim()&&(t._id=e.filters._id.trim());Oe(e.$route.params.project_id,t,{}).then(function(t){e.listLoading=!1;var a=t.status,s=t.data;"ok"===a?(e.testReports=s.rows,e.totalNum=s.totalNum):e.$message.error({message:s,center:!0})}).catch(function(t){console.log(t),e.$message.error({message:"测试报告获取失败，请稍后刷新重试哦~",center:!0}),e.listLoading=!1})},exportReportDetail:function(e,t){var a=this;return l()(i.a.mark(function e(){var s,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(s=a).exportLoading=!0,r=t.projectId,o=t._id,He(r,o,{"Content-Type":"application/json"}).then(function(e){var t=new Blob([e]);s.downloadLink=window.URL.createObjectURL(t),s.downloadName="接口测试报告_"+ve()().format("YYYY-MM-DD-HH-mm-ss")+".xlsx",s.$nextTick(function(){s.$el.querySelector(".js-download-doc").click(),window.URL.revokeObjectURL(a.downloadLink),s.exportLoading=!1,s.$message.success({message:"报告导出成功",center:!0})})}).catch(function(e){console.log(e),s.$message.error({message:"报告导出失败，请稍后重试哦~",center:!0}),s.exportLoading=!1});case 6:case"end":return e.stop()}},e,a)}))()},showReportDetail:function(e,t){var a=this;a.isReportDetailShow=!0,a.detailLoading=!0;(function(e,t,a){return I({url:"/api/project/"+e+"/reportsList/"+t,headers:a,params:null,method:"GET"})})(a.$route.params.project_id,t._id,{}).then(function(e){a.detailLoading=!1;var t=e.status,s=e.data;if("ok"===t){var r=s.testDetail||[];r.length&&r.forEach(function(e,t,a){e.testBaseInfo.headers=y()(e.testBaseInfo.headers)||"",e.testBaseInfo.cookies=y()(e.testBaseInfo.cookies)||"",e.testBaseInfo.presendParams=y()(e.testBaseInfo.presendParams)||"",e.testBaseInfo.presendParams.length>5e3&&(e.testBaseInfo.presendParams=e.testBaseInfo.presendParams.substr(0,5e3)+"......(长度已超出限制，完整请求参数请前往数据库查看)"),e.responseData?""===e.responseData.toString().trim()?e.responseData="(无任何数据)":e.responseData=e.responseData:e.responseData="(无任何数据)",e.responseData.length>5e3&&(e.responseData=e.responseData.substr(0,5e3)+"......(长度已超出限制，完整响应请前往数据库查看)"),e.testConclusion.length>5e3&&(e.testConclusion=e.testConclusion.substr(0,5e3)+"......(长度已超出限制，完整响应请前往数据库查看)"),e.responseHttpStatusCode?""===e.responseHttpStatusCode.toString().trim()?e.responseHttpStatusCode="(无任何数据)":e.responseHttpStatusCode=e.responseHttpStatusCode:e.responseHttpStatusCode="(无任何数据)",void 0===e.testBaseInfo.checkResponseData||null===e.testBaseInfo.checkResponseData||1===e.testBaseInfo.checkResponseData.length&&""===e.testBaseInfo.checkResponseData[0].regex.trim()?e.testBaseInfo.checkResponseData="(无任何校验)":e.testBaseInfo.checkResponseData=y()(e.testBaseInfo.checkResponseData)||"",void 0===e.testBaseInfo.checkResponseNumber||null===e.testBaseInfo.checkResponseNumber||1===e.testBaseInfo.checkResponseNumber.length&&""===e.testBaseInfo.checkResponseNumber[0].expressions.expectResult.trim()?e.testBaseInfo.checkResponseNumber="(无任何校验)":e.testBaseInfo.checkResponseNumber=y()(e.testBaseInfo.checkResponseNumber)||"",void 0===e.testBaseInfo.checkResponseSimilarity||null===e.testBaseInfo.checkResponseSimilarity||1===e.testBaseInfo.checkResponseSimilarity.length&&""===e.testBaseInfo.checkResponseSimilarity[0].compairedText.trim()?e.testBaseInfo.checkResponseSimilarity="(无任何校验)":e.testBaseInfo.checkResponseSimilarity=y()(e.testBaseInfo.checkResponseSimilarity)||"","null"!==e.testBaseInfo.presendParams&&"{}"!==e.testBaseInfo.presendParams||(e.testBaseInfo.presendParams="(无任何参数)"),"null"===e.testBaseInfo.headers&&(e.testBaseInfo.headers="(无任何请求头部)"),"[]"===e.testBaseInfo.cookies&&(e.testBaseInfo.cookies="(无任何Cookie)"),null!==e.testBaseInfo.checkHttpCode&&void 0!==e.testBaseInfo.checkHttpCode||(e.testBaseInfo.checkHttpCode="(无任何校验)"),null!==e.testBaseInfo.checkResponseTime&&void 0!==e.testBaseInfo.checkResponseTime||(e.testBaseInfo.checkResponseTime="(无任何校验)")}),a.testReportDetail=r}else a.$message.error({message:s,center:!0})}).catch(function(e){console.log(e),a.$message.error({message:"报告详情获取失败，请稍后刷新重试哦~",center:!0}),a.detailLoading=!1})},handleSizeChange:function(e){var t=this;t.size=e,t.listLoading=!0;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};Oe(t.$route.params.project_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.testReports=s.rows,t.totalNum=s.totalNum):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"测试报告获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},handleCurrentChange:function(e){var t=this;t.skip=(e-1)*t.size,t.listLoading=!0;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};Oe(t.$route.params.project_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.testReports=s.rows,t.totalNum=s.totalNum):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"测试报告获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})},reportsTableRow:function(e){var t=e.row;e.rowIndex;return"ok"===t.status.toString()?"bg1-row reportsTableRow":"bg2-row reportsTableRow"},reportHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #1E90FF;color: #fff;font-weight: 500;"},sortChange:function(e){var t=this;t.listLoading=!0,t.sortBy=e.prop,t.order=e.order;var a={size:t.size,skip:t.skip,sortBy:t.sortBy,order:t.order,projectId:t.$route.params.project_id};Oe(t.$route.params.project_id,a,{}).then(function(e){t.listLoading=!1;var a=e.status,s=e.data;"ok"===a?(t.testReports=s.rows,t.totalNum=s.totalNum):t.$message.error({message:s,center:!0})}).catch(function(e){t.$message.error({message:"测试报告获取失败，请稍后刷新重试哦~",center:!0}),t.listLoading=!1})}},watch:{time:function(){}}},Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticStyle:{margin:"35px"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[a("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"接口测试"}}},[a("el-button",{staticStyle:{"margin-left":"35px"},attrs:{round:""}},[a("i",{staticClass:"el-icon-d-arrow-left"}),e._v(" 回首页")])],1),e._v(" "),a("div",{staticStyle:{float:"right","margin-right":"150px"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"报告编号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTestReports(t)}},model:{value:e.filters._id,callback:function(t){e.$set(e.filters,"_id","string"==typeof t?t.trim():t)},expression:"filters._id"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:e.getTestReports}},[e._v(" 查询")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.testReports,"highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"_id",label:"报告编号","min-width":"17%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"testCount",label:"用例总数","min-width":"8%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"passCount",label:"通过数","min-width":"8%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"failedCount",label:"失败数","min-width":"8%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"passRate",label:"通过率","min-width":"8%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"comeFrom",label:"报告来源","min-width":"10%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"executorNickName",label:"执行人","min-width":"10%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"createAt",label:"报告生成时间","min-width":"15%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-document",attrs:{size:"small",type:"primary"},on:{click:function(a){return e.showReportDetail(t.$index,t.row)}}},[e._v(" 查看详情")]),e._v(" "),a("el-button",{staticClass:"el-icon-download",attrs:{size:"small",loading:e.exportLoading,type:"primary"},on:{click:function(a){return e.exportReportDetail(t.$index,t.row)}}},[e._v(" 导出")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[10,20,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.detailLoading,expression:"detailLoading"}],attrs:{title:"报告详情",width:"97%",visible:e.isReportDetailShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isReportDetailShow=t}}},[a("div",{staticStyle:{height:"700px",overflow:"auto","overflow-x":"hidden",border:"1px solid #e6e6e6"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{height:"700",data:e.testReportDetail,"row-class-name":e.reportsTableRow,"header-cell-style":e.reportHeaderColor}},[a("el-table-column",{attrs:{prop:"testBaseInfo.name",label:"用例名称","min-width":"25%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.requestMethod",label:"请求方法","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.url",label:"请求地址","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.headers",label:"请求头","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.cookies",label:"请求Cookie","min-width":"18%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.presendParams",label:"请求参数","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.checkHttpCode",label:"状态码校验","min-width":"18%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"responseHttpStatusCode",label:"实际状态码","min-width":"18%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.checkResponseData",label:"数据校验","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.checkResponseNumber",label:"数值校验","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.checkResponseSimilarity",label:"相似度校验","min-width":"18%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"responseData",label:"实际数据","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testConclusion",label:"测试结论","min-width":"15%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testStartTime",label:"测试开始时间","min-width":"25%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"testBaseInfo.checkResponseTime",label:"耗时校验/s","min-width":"17%",sortable:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"spendingTimeInSec",label:"测试耗时/s","min-width":"17%",sortable:"","show-overflow-tooltip":""}})],1)],1)]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"js-download-doc",attrs:{href:e.downloadLink,download:e.downloadName}})],1)},staticRenderFns:[]};var qe=a("C7Lr")(Be,Ve,!1,function(e){a("jXhb")},null,null).exports;c.default.use(b.a);var Ue=new b.a({routes:[{path:"/login",name:"login",component:E,hidden:!0,projectHidden:!0},{path:"/",component:J,name:"",projectHidden:!0,children:[{path:"/interfaceProjectList",component:z,iconCls:"fa fa-plug",name:"接口测试"},{path:"/aboutAuthor",component:Z,iconCls:"fa fa-id-card-o",name:"关于作者"}]},{path:"/interfaceTestProject/:project_id",component:U,name:"项目",hidden:!0,children:[{path:"/automationTest/:project_id",component:X,name:"自动化测试",leaf:!0,child:!0,children:[{path:"/interfaceTestProject/:project_id/caseSuiteList",component:ye,name:"用例列表"},{path:"/interfaceTestProject/:project_id/caseApiList/caseSuiteId=:case_suite_id",component:xe,name:"用例接口列表"},{path:"/interfaceTestProject/:project_id/updateCaseApi/caseSuiteId=:case_suite_id/testingCaseId=:case_id",component:Le,name:"修改用例"}]},{path:"/interfaceTestProject/:project_id/GlobalHost",component:De,name:"Host配置",leaf:!0},{path:"/interfaceTestProject/:project_id/GlobalMail",component:Ae,name:"邮箱配置",leaf:!0},{path:"/interfaceTestProject/:project_id/GlobalTestDataStorage",component:Ee,name:"数据仓库",leaf:!0},{path:"/interfaceTestProject/:project_id/CronList",component:de,name:"定时任务",leaf:!0},{path:"/interfaceTestProject/:project_id/projectReport",component:qe,name:"测试报告",leaf:!0}]}]}),Ge=a("fUgm"),We=function(e){(0,e.commit)("setApiCasePageInfo")},Je=function(e){(0,e.commit)("setApiCaseSuitePageInfo")},Ye=function(e){return e.apiCasePageInfo},Ze=function(e){return e.apiCaseSuitePageInfo};c.default.use(Ge.a);var Qe,Xe={setApiCasePageInfo:function(e,t){var a=e.apiCasePageInfo.findIndex(function(e){return e.caseSuiteId===t.caseSuiteId});-1!==a?e.apiCasePageInfo[a]=_()({},e.apiCasePageInfo[a],t):e.apiCasePageInfo.push(_()({},e.initPageInfo,t))},setApiCaseSuitePageInfo:function(e,t){var a=e.apiCaseSuitePageInfo.findIndex(function(e){return e.projectId===t.projectId});-1!==a?e.apiCaseSuitePageInfo[a]=_()({},e.apiCaseSuitePageInfo[a],t):e.apiCaseSuitePageInfo.push(_()({},e.initPageInfo,t))}},Ke=new Ge.a.Store({actions:s,getters:r,state:{initPageInfo:{size:10,skip:0,sortBy:"createAt",order:"descending",currentPage:1},apiCasePageInfo:[],apiCaseSuitePageInfo:[]},mutations:Xe,namespaces:!0}),et=(a("FI+a"),a("991W"),a("UfKn"),a("LZbd"),a("uxEr"),a("cV3x")),tt=a.n(et),at=this;c.default.use(tt.a),c.default.config.productionTip=!1,c.default.use(f.a),c.default.use(p.a),c.default.use(u.a),c.default.component("header-view",B),Ue.beforeEach((Qe=l()(i.a.mark(function e(t,a,s){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.matched.length){e.next=3;break}return s("/interfaceProjectList"),e.abrupt("return");case 3:-1===["/login"].indexOf(t.path)?""!==j("nickName")?"/"===t.path.trim()?s("/interfaceProjectList"):s():s("/login"):s();case 4:case"end":return e.stop()}},e,at)})),function(e,t,a){return Qe.apply(this,arguments)})),new c.default({el:"#app",router:Ue,store:Ke,components:{App:v},template:"<App/>"})},OMM0:function(e,t,a){e.exports=a.p+"static/img/userphoto.ef844a3.jpg"},"ObR/":function(e,t){},UfKn:function(e,t){},VoY2:function(e,t){},"c/LP":function(e,t){},jXhb:function(e,t){},kXBd:function(e,t){},mdWD:function(e,t){},p7sn:function(e,t){},qtSQ:function(e,t){},sDtC:function(e,t,a){e.exports=a.p+"static/img/please.362bcaa.jpg"},uxEr:function(e,t){},"x/sL":function(e,t){},yUwt:function(e,t){},yc9E:function(e,t){},zS84:function(e,t,a){e.exports=a.p+"static/img/wechatDonation.7cb0b66.jpg"},zenm:function(e,t,a){var s={"./af":"DMd3","./af.js":"DMd3","./ar":"V5uq","./ar-dz":"ZlOZ","./ar-dz.js":"ZlOZ","./ar-kw":"QkGj","./ar-kw.js":"QkGj","./ar-ly":"c9ne","./ar-ly.js":"c9ne","./ar-ma":"QZgE","./ar-ma.js":"QZgE","./ar-sa":"XQyA","./ar-sa.js":"XQyA","./ar-tn":"aHVQ","./ar-tn.js":"aHVQ","./ar.js":"V5uq","./az":"HZnN","./az.js":"HZnN","./be":"bVSf","./be.js":"bVSf","./bg":"I5ck","./bg.js":"I5ck","./bm":"SUhV","./bm.js":"SUhV","./bn":"2iG6","./bn-bd":"pL9F","./bn-bd.js":"pL9F","./bn.js":"2iG6","./bo":"cWnb","./bo.js":"cWnb","./br":"3lRP","./br.js":"3lRP","./bs":"pPuy","./bs.js":"pPuy","./ca":"TGkz","./ca.js":"TGkz","./cs":"dr47","./cs.js":"dr47","./cv":"xHW1","./cv.js":"xHW1","./cy":"HZ+Y","./cy.js":"HZ+Y","./da":"3CFF","./da.js":"3CFF","./de":"2YCs","./de-at":"emcn","./de-at.js":"emcn","./de-ch":"VspD","./de-ch.js":"VspD","./de.js":"2YCs","./dv":"v+nZ","./dv.js":"v+nZ","./el":"IVWY","./el.js":"IVWY","./en-au":"fgMQ","./en-au.js":"fgMQ","./en-ca":"9O6x","./en-ca.js":"9O6x","./en-gb":"C8Ks","./en-gb.js":"C8Ks","./en-ie":"Guoq","./en-ie.js":"Guoq","./en-il":"pAFd","./en-il.js":"pAFd","./en-in":"gwcs","./en-in.js":"gwcs","./en-nz":"BXwR","./en-nz.js":"BXwR","./en-sg":"Gx3T","./en-sg.js":"Gx3T","./eo":"SyIA","./eo.js":"SyIA","./es":"P39S","./es-do":"Zr3G","./es-do.js":"Zr3G","./es-mx":"R8E5","./es-mx.js":"R8E5","./es-us":"XyK+","./es-us.js":"XyK+","./es.js":"P39S","./et":"nsca","./et.js":"nsca","./eu":"EGkk","./eu.js":"EGkk","./fa":"hFC+","./fa.js":"hFC+","./fi":"QZnC","./fi.js":"QZnC","./fil":"yjnK","./fil.js":"yjnK","./fo":"Eh/V","./fo.js":"Eh/V","./fr":"dqJ6","./fr-ca":"UJ1w","./fr-ca.js":"UJ1w","./fr-ch":"jUG3","./fr-ch.js":"jUG3","./fr.js":"dqJ6","./fy":"2Y+u","./fy.js":"2Y+u","./ga":"fP5U","./ga.js":"fP5U","./gd":"HNnd","./gd.js":"HNnd","./gl":"csFA","./gl.js":"csFA","./gom-deva":"v9Un","./gom-deva.js":"v9Un","./gom-latn":"Is64","./gom-latn.js":"Is64","./gu":"ytb1","./gu.js":"ytb1","./he":"3ukh","./he.js":"3ukh","./hi":"cir5","./hi.js":"cir5","./hr":"5/WS","./hr.js":"5/WS","./hu":"3C4D","./hu.js":"3C4D","./hy-am":"mIMg","./hy-am.js":"mIMg","./id":"lq5T","./id.js":"lq5T","./is":"M62V","./is.js":"M62V","./it":"EsV5","./it-ch":"gK9f","./it-ch.js":"gK9f","./it.js":"EsV5","./ja":"w9bl","./ja.js":"w9bl","./jv":"haXP","./jv.js":"haXP","./ka":"m5zV","./ka.js":"m5zV","./kk":"qLxw","./kk.js":"qLxw","./km":"w6w2","./km.js":"w6w2","./kn":"8Psv","./kn.js":"8Psv","./ko":"grrN","./ko.js":"grrN","./ku":"LA3b","./ku.js":"LA3b","./ky":"xN7O","./ky.js":"xN7O","./lb":"3MLE","./lb.js":"3MLE","./lo":"V1Nm","./lo.js":"V1Nm","./lt":"jHKF","./lt.js":"jHKF","./lv":"ofGP","./lv.js":"ofGP","./me":"qzFN","./me.js":"qzFN","./mi":"pI6/","./mi.js":"pI6/","./mk":"it99","./mk.js":"it99","./ml":"QCEW","./ml.js":"QCEW","./mn":"aEc7","./mn.js":"aEc7","./mr":"/AhN","./mr.js":"/AhN","./ms":"qp2u","./ms-my":"ytBS","./ms-my.js":"ytBS","./ms.js":"qp2u","./mt":"LHwr","./mt.js":"LHwr","./my":"cZ++","./my.js":"cZ++","./nb":"sXFW","./nb.js":"sXFW","./ne":"OqlK","./ne.js":"OqlK","./nl":"gz0p","./nl-be":"1c87","./nl-be.js":"1c87","./nl.js":"gz0p","./nn":"yEIC","./nn.js":"yEIC","./oc-lnc":"WHIy","./oc-lnc.js":"WHIy","./pa-in":"In9j","./pa-in.js":"In9j","./pl":"sYsF","./pl.js":"sYsF","./pt":"M5aA","./pt-br":"FL2Y","./pt-br.js":"FL2Y","./pt.js":"M5aA","./ro":"pzLN","./ro.js":"pzLN","./ru":"3DQJ","./ru.js":"3DQJ","./sd":"J2Qk","./sd.js":"J2Qk","./se":"7ma1","./se.js":"7ma1","./si":"sjgc","./si.js":"sjgc","./sk":"fn8n","./sk.js":"fn8n","./sl":"bGi8","./sl.js":"bGi8","./sq":"75i0","./sq.js":"75i0","./sr":"U2RI","./sr-cyrl":"r8Zk","./sr-cyrl.js":"r8Zk","./sr.js":"U2RI","./ss":"JXU5","./ss.js":"JXU5","./sv":"cIMW","./sv.js":"cIMW","./sw":"ryRQ","./sw.js":"ryRQ","./ta":"hNjb","./ta.js":"hNjb","./te":"fmJ/","./te.js":"fmJ/","./tet":"oGrL","./tet.js":"oGrL","./tg":"ItXd","./tg.js":"ItXd","./th":"wxcM","./th.js":"wxcM","./tk":"llaT","./tk.js":"llaT","./tl-ph":"wOon","./tl-ph.js":"wOon","./tlh":"jMfG","./tlh.js":"jMfG","./tr":"Adq8","./tr.js":"Adq8","./tzl":"OIFh","./tzl.js":"OIFh","./tzm":"oPmo","./tzm-latn":"xXRz","./tzm-latn.js":"xXRz","./tzm.js":"oPmo","./ug-cn":"K89W","./ug-cn.js":"K89W","./uk":"kr7y","./uk.js":"kr7y","./ur":"VT2A","./ur.js":"VT2A","./uz":"MW2X","./uz-latn":"x9cz","./uz-latn.js":"x9cz","./uz.js":"MW2X","./vi":"G0Ye","./vi.js":"G0Ye","./x-pseudo":"7xkf","./x-pseudo.js":"7xkf","./yo":"u1YX","./yo.js":"u1YX","./zh-cn":"cLZ+","./zh-cn.js":"cLZ+","./zh-hk":"5qPz","./zh-hk.js":"5qPz","./zh-mo":"xbeu","./zh-mo.js":"xbeu","./zh-tw":"dOkB","./zh-tw.js":"dOkB"};function r(e){return a(o(e))}function o(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id="zenm"}},["NHnr"]);
//# sourceMappingURL=app.1f0e48a438d24dc7d548.js.map